const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-v4-1760899745229-COCLPCaB.js","assets/chunk-v4-1760899745229-C91sa_mq.js","assets/chunk-v4-1760899745229-Cp1U2DWw.js","assets/chunk-v4-1760899745229-BX32o4Tt.js","assets/chunk-v4-1760899745229-DBZTXvvv.js","assets/chunk-v4-1760899745229-Da1keFKk.js"])))=>i.map(i=>d[i]);
import{j as e,m as u,C as Be,T as Oe,a as fr,A as dt,b as qe,c as At,W as br,K as Ot,B as kt,d as yr,e as vr,L as wr,X as jr,f as kr,g as gt,h as Re,i as Ze,k as Nr,N as Sr,U as Ke,M as $r,I as Cr,l as ut,n as Je,o as Xe,P as Qe,p as Rt,q as Ft,r as nt,s as Ir,t as Dr,u as _r,v as Nt,w as Pr}from"./chunk-v4-1760899745229-C91sa_mq.js";import{r as i,u as He}from"./chunk-v4-1760899745229-Cp1U2DWw.js";import{Q as Tr,_ as Fe,u as et}from"./chunk-v4-1760899745229-DBZTXvvv.js";import{s as ae,g as Er,a as Mr}from"./chunk-v4-1760899745229-BX32o4Tt.js";import{e as zr,i as Ar,f as ze}from"./chunk-v4-1760899745229-Da1keFKk.js";const ue={getItem:t=>window.localStorage.getItem(t),setItem:(t,r)=>window.localStorage.setItem(t,r),deleteItem:t=>window.localStorage.removeItem(t)},Ht=i.createContext();function ns({children:t,forceShowInit:r}){const[s,a]=i.useState(!1),[o,d]=i.useState(""),[c,n]=i.useState(""),[l,j]=i.useState("user"),[S,P]=i.useState(""),[F,$]=i.useState("#1769aa"),w=i.useCallback(()=>{const x=ue.getItem("DRIVER_TURA"),K=ue.getItem("DRIVER_NAME"),T=ue.getItem("DRIVER_ROLE"),W=ue.getItem("DEVICE_ID"),h=ue.getItem("IS_ADMIN");d(x||""),n(K||""),j(T||"user"),P(W||""),a(h==="true"),h==="true"?$("#cc0000"):K&&x&&$("#1769aa")},[]);i.useEffect(()=>{w(),typeof window<"u"&&(window.__USER_CONTEXT__={refreshStatus:w})},[w]);const H={isAdmin:s,driverTura:o,driverName:c,driverRole:l,deviceId:S,userColor:F,refreshStatus:w,resetLoginData:()=>(ue.deleteItem("DRIVER_TURA"),ue.deleteItem("DRIVER_NAME"),ue.deleteItem("DRIVER_ROLE"),ue.deleteItem("DEVICE_ID"),ue.deleteItem("IS_ADMIN"),ue.deleteItem("APP_LANG"),w(),typeof r=="function"&&r(),!0),validateDriverAccess:()=>!(!o||!S)};return e.jsx(Ht.Provider,{value:H,children:t})}function Or(){const t=i.useContext(Ht);if(!t)throw new Error("useUserContext mora biti kori≈°ten unutar <UserProvider>");return t}function Wt(){const[t,r]=i.useState(null),[s,a]=i.useState(!0),[o,d]=i.useState(null),c=i.useCallback(()=>{try{const $=localStorage.getItem("bde_current_user"),w=localStorage.getItem("bde_login_time");if($&&w){const k=JSON.parse($);if(Date.now()-parseInt(w)<7*24*60*60*1e3)return k;localStorage.removeItem("bde_current_user"),localStorage.removeItem("bde_login_time")}}catch{localStorage.removeItem("bde_current_user"),localStorage.removeItem("bde_login_time")}return null},[]),n=i.useCallback($=>{try{localStorage.setItem("bde_current_user",JSON.stringify($)),localStorage.setItem("bde_login_time",Date.now().toString())}catch{}},[]),l=i.useCallback(async $=>{a(!0),d(null);try{const{data:w,error:k}=await ae.from("drivers").select("id, ime, tura, aktivan, role, password_hash").eq("tura",$.toUpperCase()).eq("aktivan",!0).single();if(k)throw new Error(`Vozaƒç sa turom ${$} nije pronaƒëen ili nije aktivan`);return{id:w.id,ime:w.ime,tura:w.tura,role:w.role||"driver",hasPassword:!!w.password_hash}}catch(w){throw d(w.message),w}finally{a(!1)}},[]),j=i.useCallback(async($,w)=>{a(!0),d(null);try{const k=btoa(w),{error:_}=await ae.from("drivers").update({password_hash:k,last_login:new Date}).eq("id",$);if(_)throw new Error("Gre≈°ka pri postavljanju lozinke");return!0}catch(k){throw d(k.message),k}finally{a(!1)}},[]),S=i.useCallback(async($,w)=>{a(!0),d(null);try{const{data:k,error:_}=await ae.from("drivers").select("*").eq("tura",$.toUpperCase()).eq("aktivan",!0).single();if(_)throw new Error(`Vozaƒç sa turom ${$} nije pronaƒëen ili nije aktivan`);if(!k.password_hash)throw new Error("Vozaƒç nema postavljenu lozinku. Kontaktirajte administratora.");if(!(k.password_hash===w||k.password_hash===btoa(w)))throw new Error("Neispravna lozinka");await ae.from("drivers").update({last_login:new Date}).eq("id",k.id);const x={id:k.id,username:k.tura,name:k.ime,role:k.role||"driver",loginTime:Date.now()};return r(x),n(x),x}catch(k){throw d(k.message),k}finally{a(!1)}},[n]),P=i.useCallback(async($,w)=>{if(!t)throw new Error("Morate biti ulogovani");a(!0),d(null);try{const{data:k,error:_}=await ae.from("drivers").select("password_hash").eq("id",t.id).single();if(_)throw new Error("Gre≈°ka pri provjeri korisnika");if(!(k.password_hash===$||k.password_hash===btoa($)))throw new Error("Stara lozinka nije ispravna");const x=btoa(w),{error:K}=await ae.from("drivers").update({password_hash:x}).eq("id",t.id);if(K)throw new Error("Gre≈°ka pri a≈æuriranju lozinke");return!0}catch(k){throw d(k.message),k}finally{a(!1)}},[t]),F=i.useCallback(()=>{r(null),localStorage.removeItem("bde_current_user"),localStorage.removeItem("bde_login_time"),d(null)},[]);return i.useEffect(()=>{const $=c();$&&r($),a(!1)},[c]),{currentUser:t,loading:s,error:o,checkDriverExists:l,setInitialPassword:j,login:S,changePassword:P,logout:F,isAuthenticated:!!t}}const Rr=()=>({persistClient:t=>{try{const r={timestamp:Date.now(),clientState:JSON.stringify({queries:t.getQueryCache().getAll().filter(s=>{const a=s.queryKey[0];return["drivers","holidays"].includes(a)}).map(s=>({queryKey:s.queryKey,state:s.state}))})};localStorage.setItem("bde_query_cache",JSON.stringify(r))}catch{}},restoreClient:()=>{try{const t=localStorage.getItem("bde_query_cache");if(!t)return;const{timestamp:r,clientState:s}=JSON.parse(t),a=24*60*60*1e3;if(Date.now()-r>a){localStorage.removeItem("bde_query_cache");return}return JSON.parse(s)}catch{localStorage.removeItem("bde_query_cache")}},removeClient:()=>{localStorage.removeItem("bde_query_cache")}}),pt=Rr(),Fr=()=>{const t=new Date,r=t.getHours(),s=t.getDay();let a,o;return s>=1&&s<=5&&r>=2&&r<=9?(a=5*60*1e3,o="radni sat (dodaju se novi podaci)"):s>=1&&s<=5&&r>9?(a=2*60*60*1e3,o="radni dan posle 09h"):(a=6*60*60*1e3,o=s===0||s===6?"vikend":"noƒá"),a},he=new Tr({defaultOptions:{queries:{staleTime:Fr(),cacheTime:4*60*60*1e3,refetchOnWindowFocus:()=>{const t=new Date().getHours(),r=new Date().getDay();return r>=1&&r<=5&&t>=2&&t<=9},refetchOnReconnect:!0,refetchOnMount:!1,retry:2,retryDelay:t=>Math.min(1e3*2**t,3e4),suspense:!1,useErrorBoundary:!1,networkMode:"online"},mutations:{retry:1,networkMode:"online"}}}),le={drivers:{all:["drivers"]},deliveries:{all:["deliveries"],byMonth:(t,r)=>[...le.deliveries.all,"month",t,r],byYear:t=>[...le.deliveries.all,"year",t],byDriver:(t,r,s)=>[...le.deliveries.all,"driver",t,r,s],stats:(t,r)=>[...le.deliveries.all,"stats",t,r]},holidays:{all:["holidays"],byYear:t=>[...le.holidays.all,"year",t]},extraRides:{all:["extraRides"]},driverStats:{all:["driverStats"]}},is={drivers:()=>he.invalidateQueries({queryKey:le.drivers.all}),deliveries:()=>he.invalidateQueries({queryKey:le.deliveries.all}),holidays:()=>he.invalidateQueries({queryKey:le.holidays.all}),extraRides:()=>he.invalidateQueries({queryKey:le.extraRides.all}),driverStats:()=>he.invalidateQueries({queryKey:le.driverStats.all}),all:()=>he.invalidateQueries()};try{const t=pt.restoreClient();t!=null&&t.queries&&t.queries.forEach(({queryKey:r,state:s})=>{s.data&&he.setQueryData(r,s.data)})}catch{}let St;he.getQueryCache().subscribe(()=>{clearTimeout(St),St=setTimeout(()=>{pt.persistClient(he)},1e3)});typeof window<"u"&&window.addEventListener("beforeunload",()=>{pt.persistClient(he)});class Hr{constructor(){this.vapidPublicKey="BLeZWVsLWNC_Y-lzWnsrZQXIjCTxtPXHPSlDB4v6As_QyKzguPKE7AwxCb3h4PCEG9JaHhw0dgS3VhXCKohTyqE",this.isRegistered=!1}isSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async requestPermissionAndRegister(r="admin",s="admin"){var a,o;if(!this.isSupported())return{success:!1,reason:"not_supported"};try{if(await Notification.requestPermission()!=="granted")return{success:!1,reason:"permission_denied"};const n=await(await navigator.serviceWorker.register("/bde-evidencija/sw.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.vapidPublicKey)}),l=n.toJSON();if(!((a=l.keys)!=null&&a.p256dh)||!((o=l.keys)!=null&&o.auth))throw new Error("Push subscription keys are missing. Browser may not support web push properly.");const j={driver_id:parseInt(r)||null,driver_tura:s==="admin"?"admin":null,endpoint:n.endpoint,p256dh_key:l.keys.p256dh,auth_key:l.keys.auth,user_agent:navigator.userAgent,platform:navigator.platform,browser:this.getBrowserName(),active:!0,created_at:new Date().toISOString()},{data:S,error:P}=await ae.from("push_subscriptions").upsert(j,{onConflict:"endpoint",ignoreDuplicates:!1}).select();return P?{success:!1,reason:"database_error",error:P}:(this.isRegistered=!0,{success:!0,subscription:j,message:"Push notifications activated!"})}catch(d){return{success:!1,reason:"registration_error",error:d.message}}}urlBase64ToUint8Array(r){const s="=".repeat((4-r.length%4)%4),a=(r+s).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(a),d=new Uint8Array(o.length);for(let c=0;c<o.length;++c)d[c]=o.charCodeAt(c);return d}getBrowserName(){const r=navigator.userAgent;return r.includes("Chrome")?"Chrome":r.includes("Firefox")?"Firefox":r.includes("Safari")?"Safari":r.includes("Edge")?"Edge":"Unknown"}async checkRegistrationStatus(r="admin"){try{const{data:s,error:a}=await ae.from("push_subscriptions").select("*").eq("driver_id",parseInt(r)||null).eq("active",!0).limit(1);return a?!1:(this.isRegistered=s&&s.length>0,this.isRegistered)}catch{return!1}}async sendTestNotification(){if(!this.isRegistered)return!1;try{let r=null;!{message:"Bypassing Edge Function"}&&(r!=null&&r.success);let a=null;try{a=(await Fe(()=>Promise.resolve().then(()=>Aa),void 0)).default}catch{}a&&a.log("üß™ Sending test notification via AutoPushService...","info");const{default:o}=await Fe(async()=>{const{default:c}=await import("./chunk-v4-1760899745229-COCLPCaB.js").then(n=>n.A);return{default:c}},__vite__mapDeps([0,1,2,3,4,5])),d=await o.sendCustomMessage({title:"üß™ BD Evidencija Test",message:"Test push notifikacija uspje≈°no poslana! üéâ",targetType:"all"});return a&&(d.success?a.log("‚úÖ Test notifikacija poslana uspje≈°no!","success"):a.log("‚ùå Test notifikacija neuspje≈°na","error")),d.success}catch{return!1}}}const Ee=new Hr;function $t(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Wr(...t){return r=>{let s=!1;const a=t.map(o=>{const d=$t(o,r);return!s&&typeof d=="function"&&(s=!0),d});if(s)return()=>{for(let o=0;o<a.length;o++){const d=a[o];typeof d=="function"?d():$t(t[o],null)}}}}function Lr(t){const r=Br(t),s=i.forwardRef((a,o)=>{const{children:d,...c}=a,n=i.Children.toArray(d),l=n.find(Vr);if(l){const j=l.props.children,S=n.map(P=>P===l?i.Children.count(j)>1?i.Children.only(null):i.isValidElement(j)?j.props.children:null:P);return e.jsx(r,{...c,ref:o,children:i.isValidElement(j)?i.cloneElement(j,void 0,S):null})}return e.jsx(r,{...c,ref:o,children:d})});return s.displayName=`${t}.Slot`,s}var Ur=Lr("Slot");function Br(t){const r=i.forwardRef((s,a)=>{const{children:o,...d}=s;if(i.isValidElement(o)){const c=Yr(o),n=Gr(d,o.props);return o.type!==i.Fragment&&(n.ref=a?Wr(a,c):c),i.cloneElement(o,n)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var qr=Symbol("radix.slottable");function Vr(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qr}function Gr(t,r){const s={...r};for(const a in r){const o=t[a],d=r[a];/^on[A-Z]/.test(a)?o&&d?s[a]=(...n)=>{const l=d(...n);return o(...n),l}:o&&(s[a]=o):a==="style"?s[a]={...o,...d}:a==="className"&&(s[a]=[o,d].filter(Boolean).join(" "))}return{...t,...s}}function Yr(t){var a,o;let r=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Lt(t){var r,s,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(r=0;r<o;r++)t[r]&&(s=Lt(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function Ut(){for(var t,r,s=0,a="",o=arguments.length;s<o;s++)(t=arguments[s])&&(r=Lt(t))&&(a&&(a+=" "),a+=r);return a}const Ct=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,It=Ut,Kr=(t,r)=>s=>{var a;if((r==null?void 0:r.variants)==null)return It(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:o,defaultVariants:d}=r,c=Object.keys(o).map(j=>{const S=s==null?void 0:s[j],P=d==null?void 0:d[j];if(S===null)return null;const F=Ct(S)||Ct(P);return o[j][F]}),n=s&&Object.entries(s).reduce((j,S)=>{let[P,F]=S;return F===void 0||(j[P]=F),j},{}),l=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((j,S)=>{let{class:P,className:F,...$}=S;return Object.entries($).every(w=>{let[k,_]=w;return Array.isArray(_)?_.includes({...d,...n}[k]):{...d,...n}[k]===_})?[...j,P,F]:j},[]);return It(t,c,l,s==null?void 0:s.class,s==null?void 0:s.className)},mt="-",Jr=t=>{const r=Qr(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:c=>{const n=c.split(mt);return n[0]===""&&n.length!==1&&n.shift(),Bt(n,r)||Xr(c)},getConflictingClassGroupIds:(c,n)=>{const l=s[c]||[];return n&&a[c]?[...l,...a[c]]:l}}},Bt=(t,r)=>{var c;if(t.length===0)return r.classGroupId;const s=t[0],a=r.nextPart.get(s),o=a?Bt(t.slice(1),a):void 0;if(o)return o;if(r.validators.length===0)return;const d=t.join(mt);return(c=r.validators.find(({validator:n})=>n(d)))==null?void 0:c.classGroupId},Dt=/^\[(.+)\]$/,Xr=t=>{if(Dt.test(t)){const r=Dt.exec(t)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},Qr=t=>{const{theme:r,classGroups:s}=t,a={nextPart:new Map,validators:[]};for(const o in s)it(s[o],a,o,r);return a},it=(t,r,s,a)=>{t.forEach(o=>{if(typeof o=="string"){const d=o===""?r:_t(r,o);d.classGroupId=s;return}if(typeof o=="function"){if(Zr(o)){it(o(a),r,s,a);return}r.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([d,c])=>{it(c,_t(r,d),s,a)})})},_t=(t,r)=>{let s=t;return r.split(mt).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},Zr=t=>t.isThemeGetter,ea=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const o=(d,c)=>{s.set(d,c),r++,r>t&&(r=0,a=s,s=new Map)};return{get(d){let c=s.get(d);if(c!==void 0)return c;if((c=a.get(d))!==void 0)return o(d,c),c},set(d,c){s.has(d)?s.set(d,c):o(d,c)}}},lt="!",ct=":",ta=ct.length,ra=t=>{const{prefix:r,experimentalParseClassName:s}=t;let a=o=>{const d=[];let c=0,n=0,l=0,j;for(let w=0;w<o.length;w++){let k=o[w];if(c===0&&n===0){if(k===ct){d.push(o.slice(l,w)),l=w+ta;continue}if(k==="/"){j=w;continue}}k==="["?c++:k==="]"?c--:k==="("?n++:k===")"&&n--}const S=d.length===0?o:o.substring(l),P=aa(S),F=P!==S,$=j&&j>l?j-l:void 0;return{modifiers:d,hasImportantModifier:F,baseClassName:P,maybePostfixModifierPosition:$}};if(r){const o=r+ct,d=a;a=c=>c.startsWith(o)?d(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(s){const o=a;a=d=>s({className:d,parseClassName:o})}return a},aa=t=>t.endsWith(lt)?t.substring(0,t.length-1):t.startsWith(lt)?t.substring(1):t,sa=t=>{const r=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let d=[];return a.forEach(c=>{c[0]==="["||r[c]?(o.push(...d.sort(),c),d=[]):d.push(c)}),o.push(...d.sort()),o}},oa=t=>({cache:ea(t.cacheSize),parseClassName:ra(t),sortModifiers:sa(t),...Jr(t)}),na=/\s+/,ia=(t,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:d}=r,c=[],n=t.trim().split(na);let l="";for(let j=n.length-1;j>=0;j-=1){const S=n[j],{isExternal:P,modifiers:F,hasImportantModifier:$,baseClassName:w,maybePostfixModifierPosition:k}=s(S);if(P){l=S+(l.length>0?" "+l:l);continue}let _=!!k,H=a(_?w.substring(0,k):w);if(!H){if(!_){l=S+(l.length>0?" "+l:l);continue}if(H=a(w),!H){l=S+(l.length>0?" "+l:l);continue}_=!1}const x=d(F).join(":"),K=$?x+lt:x,T=K+H;if(c.includes(T))continue;c.push(T);const W=o(H,_);for(let h=0;h<W.length;++h){const D=W[h];c.push(K+D)}l=S+(l.length>0?" "+l:l)}return l};function la(){let t=0,r,s,a="";for(;t<arguments.length;)(r=arguments[t++])&&(s=qt(r))&&(a&&(a+=" "),a+=s);return a}const qt=t=>{if(typeof t=="string")return t;let r,s="";for(let a=0;a<t.length;a++)t[a]&&(r=qt(t[a]))&&(s&&(s+=" "),s+=r);return s};function ca(t,...r){let s,a,o,d=c;function c(l){const j=r.reduce((S,P)=>P(S),t());return s=oa(j),a=s.cache.get,o=s.cache.set,d=n,n(l)}function n(l){const j=a(l);if(j)return j;const S=ia(l,s);return o(l,S),S}return function(){return d(la.apply(null,arguments))}}const te=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},Vt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Gt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,da=/^\d+\/\d+$/,ga=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ua=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pa=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ma=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ha=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ie=t=>da.test(t),R=t=>!!t&&!Number.isNaN(Number(t)),ve=t=>!!t&&Number.isInteger(Number(t)),st=t=>t.endsWith("%")&&R(t.slice(0,-1)),fe=t=>ga.test(t),xa=()=>!0,fa=t=>ua.test(t)&&!pa.test(t),Yt=()=>!1,ba=t=>ma.test(t),ya=t=>ha.test(t),va=t=>!y(t)&&!v(t),wa=t=>De(t,Xt,Yt),y=t=>Vt.test(t),we=t=>De(t,Qt,fa),ot=t=>De(t,$a,R),Pt=t=>De(t,Kt,Yt),ja=t=>De(t,Jt,ya),Ve=t=>De(t,Zt,ba),v=t=>Gt.test(t),Me=t=>_e(t,Qt),ka=t=>_e(t,Ca),Tt=t=>_e(t,Kt),Na=t=>_e(t,Xt),Sa=t=>_e(t,Jt),Ge=t=>_e(t,Zt,!0),De=(t,r,s)=>{const a=Vt.exec(t);return a?a[1]?r(a[1]):s(a[2]):!1},_e=(t,r,s=!1)=>{const a=Gt.exec(t);return a?a[1]?r(a[1]):s:!1},Kt=t=>t==="position"||t==="percentage",Jt=t=>t==="image"||t==="url",Xt=t=>t==="length"||t==="size"||t==="bg-size",Qt=t=>t==="length",$a=t=>t==="number",Ca=t=>t==="family-name",Zt=t=>t==="shadow",Ia=()=>{const t=te("color"),r=te("font"),s=te("text"),a=te("font-weight"),o=te("tracking"),d=te("leading"),c=te("breakpoint"),n=te("container"),l=te("spacing"),j=te("radius"),S=te("shadow"),P=te("inset-shadow"),F=te("text-shadow"),$=te("drop-shadow"),w=te("blur"),k=te("perspective"),_=te("aspect"),H=te("ease"),x=te("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...T(),v,y],h=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],m=()=>[v,y,l],E=()=>[Ie,"full","auto",...m()],J=()=>[ve,"none","subgrid",v,y],U=()=>["auto",{span:["full",ve,v,y]},ve,v,y],A=()=>[ve,"auto",v,y],G=()=>["auto","min","max","fr",v,y],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...m()],O=()=>[Ie,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...m()],b=()=>[t,v,y],se=()=>[...T(),Tt,Pt,{position:[v,y]}],f=()=>["no-repeat",{repeat:["","x","y","space","round"]}],g=()=>["auto","cover","contain",Na,wa,{size:[v,y]}],p=()=>[st,Me,we],N=()=>["","none","full",j,v,y],M=()=>["",R,Me,we],Y=()=>["solid","dashed","dotted","double"],C=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[R,st,Tt,Pt],L=()=>["","none",w,v,y],B=()=>["none",R,v,y],Z=()=>["none",R,v,y],oe=()=>[R,v,y],ne=()=>[Ie,"full",...m()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fe],breakpoint:[fe],color:[xa],container:[fe],"drop-shadow":[fe],ease:["in","out","in-out"],font:[va],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fe],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fe],shadow:[fe],spacing:["px",R],text:[fe],"text-shadow":[fe],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ie,y,v,_]}],container:["container"],columns:[{columns:[R,y,v,n]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:h()}],"overflow-x":[{"overflow-x":h()}],"overflow-y":[{"overflow-y":h()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[ve,"auto",v,y]}],basis:[{basis:[Ie,"full","auto",n,...m()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[R,Ie,"auto","initial","none",y]}],grow:[{grow:["",R,v,y]}],shrink:[{shrink:["",R,v,y]}],order:[{order:[ve,"first","last","none",v,y]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:m()}],"gap-x":[{"gap-x":m()}],"gap-y":[{"gap-y":m()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:m()}],px:[{px:m()}],py:[{py:m()}],ps:[{ps:m()}],pe:[{pe:m()}],pt:[{pt:m()}],pr:[{pr:m()}],pb:[{pb:m()}],pl:[{pl:m()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":m()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":m()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[n,"screen",...O()]}],"min-w":[{"min-w":[n,"screen","none",...O()]}],"max-w":[{"max-w":[n,"screen","none","prose",{screen:[c]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",s,Me,we]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,v,ot]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",st,y]}],"font-family":[{font:[ka,y,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,v,y]}],"line-clamp":[{"line-clamp":[R,"none",v,ot]}],leading:[{leading:[d,...m()]}],"list-image":[{"list-image":["none",v,y]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",v,y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:b()}],"text-color":[{text:b()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[R,"from-font","auto",v,we]}],"text-decoration-color":[{decoration:b()}],"underline-offset":[{"underline-offset":[R,"auto",v,y]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:m()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",v,y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",v,y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:f()}],"bg-size":[{bg:g()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ve,v,y],radial:["",v,y],conic:[ve,v,y]},Sa,ja]}],"bg-color":[{bg:b()}],"gradient-from-pos":[{from:p()}],"gradient-via-pos":[{via:p()}],"gradient-to-pos":[{to:p()}],"gradient-from":[{from:b()}],"gradient-via":[{via:b()}],"gradient-to":[{to:b()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:M()}],"border-w-x":[{"border-x":M()}],"border-w-y":[{"border-y":M()}],"border-w-s":[{"border-s":M()}],"border-w-e":[{"border-e":M()}],"border-w-t":[{"border-t":M()}],"border-w-r":[{"border-r":M()}],"border-w-b":[{"border-b":M()}],"border-w-l":[{"border-l":M()}],"divide-x":[{"divide-x":M()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":M()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:b()}],"border-color-x":[{"border-x":b()}],"border-color-y":[{"border-y":b()}],"border-color-s":[{"border-s":b()}],"border-color-e":[{"border-e":b()}],"border-color-t":[{"border-t":b()}],"border-color-r":[{"border-r":b()}],"border-color-b":[{"border-b":b()}],"border-color-l":[{"border-l":b()}],"divide-color":[{divide:b()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[R,v,y]}],"outline-w":[{outline:["",R,Me,we]}],"outline-color":[{outline:b()}],shadow:[{shadow:["","none",S,Ge,Ve]}],"shadow-color":[{shadow:b()}],"inset-shadow":[{"inset-shadow":["none",P,Ge,Ve]}],"inset-shadow-color":[{"inset-shadow":b()}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:b()}],"ring-offset-w":[{"ring-offset":[R,we]}],"ring-offset-color":[{"ring-offset":b()}],"inset-ring-w":[{"inset-ring":M()}],"inset-ring-color":[{"inset-ring":b()}],"text-shadow":[{"text-shadow":["none",F,Ge,Ve]}],"text-shadow-color":[{"text-shadow":b()}],opacity:[{opacity:[R,v,y]}],"mix-blend":[{"mix-blend":[...C(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":C()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[R]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":b()}],"mask-image-linear-to-color":[{"mask-linear-to":b()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":b()}],"mask-image-t-to-color":[{"mask-t-to":b()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":b()}],"mask-image-r-to-color":[{"mask-r-to":b()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":b()}],"mask-image-b-to-color":[{"mask-b-to":b()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":b()}],"mask-image-l-to-color":[{"mask-l-to":b()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":b()}],"mask-image-x-to-color":[{"mask-x-to":b()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":b()}],"mask-image-y-to-color":[{"mask-y-to":b()}],"mask-image-radial":[{"mask-radial":[v,y]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":b()}],"mask-image-radial-to-color":[{"mask-radial-to":b()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[R]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":b()}],"mask-image-conic-to-color":[{"mask-conic-to":b()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:f()}],"mask-size":[{mask:g()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",v,y]}],filter:[{filter:["","none",v,y]}],blur:[{blur:L()}],brightness:[{brightness:[R,v,y]}],contrast:[{contrast:[R,v,y]}],"drop-shadow":[{"drop-shadow":["","none",$,Ge,Ve]}],"drop-shadow-color":[{"drop-shadow":b()}],grayscale:[{grayscale:["",R,v,y]}],"hue-rotate":[{"hue-rotate":[R,v,y]}],invert:[{invert:["",R,v,y]}],saturate:[{saturate:[R,v,y]}],sepia:[{sepia:["",R,v,y]}],"backdrop-filter":[{"backdrop-filter":["","none",v,y]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[R,v,y]}],"backdrop-contrast":[{"backdrop-contrast":[R,v,y]}],"backdrop-grayscale":[{"backdrop-grayscale":["",R,v,y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[R,v,y]}],"backdrop-invert":[{"backdrop-invert":["",R,v,y]}],"backdrop-opacity":[{"backdrop-opacity":[R,v,y]}],"backdrop-saturate":[{"backdrop-saturate":[R,v,y]}],"backdrop-sepia":[{"backdrop-sepia":["",R,v,y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":m()}],"border-spacing-x":[{"border-spacing-x":m()}],"border-spacing-y":[{"border-spacing-y":m()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",v,y]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[R,"initial",v,y]}],ease:[{ease:["linear","initial",H,v,y]}],delay:[{delay:[R,v,y]}],animate:[{animate:["none",x,v,y]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,v,y]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:B()}],"rotate-x":[{"rotate-x":B()}],"rotate-y":[{"rotate-y":B()}],"rotate-z":[{"rotate-z":B()}],scale:[{scale:Z()}],"scale-x":[{"scale-x":Z()}],"scale-y":[{"scale-y":Z()}],"scale-z":[{"scale-z":Z()}],"scale-3d":["scale-3d"],skew:[{skew:oe()}],"skew-x":[{"skew-x":oe()}],"skew-y":[{"skew-y":oe()}],transform:[{transform:[v,y,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:b()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:b()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",v,y]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":m()}],"scroll-mx":[{"scroll-mx":m()}],"scroll-my":[{"scroll-my":m()}],"scroll-ms":[{"scroll-ms":m()}],"scroll-me":[{"scroll-me":m()}],"scroll-mt":[{"scroll-mt":m()}],"scroll-mr":[{"scroll-mr":m()}],"scroll-mb":[{"scroll-mb":m()}],"scroll-ml":[{"scroll-ml":m()}],"scroll-p":[{"scroll-p":m()}],"scroll-px":[{"scroll-px":m()}],"scroll-py":[{"scroll-py":m()}],"scroll-ps":[{"scroll-ps":m()}],"scroll-pe":[{"scroll-pe":m()}],"scroll-pt":[{"scroll-pt":m()}],"scroll-pr":[{"scroll-pr":m()}],"scroll-pb":[{"scroll-pb":m()}],"scroll-pl":[{"scroll-pl":m()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",v,y]}],fill:[{fill:["none",...b()]}],"stroke-w":[{stroke:[R,Me,we,ot]}],stroke:[{stroke:["none",...b()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Da=ca(Ia);function je(...t){return Da(Ut(t))}const _a=Kr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pe=i.forwardRef(({className:t,variant:r,size:s,asChild:a=!1,...o},d)=>{const c=a?Ur:"button";return e.jsx(c,{className:je(_a({variant:r,size:s,className:t})),ref:d,...o})});pe.displayName="Button";function Pa(){"Notification"in window,"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration("/bde-evidencija/sw.js").then(t=>{t&&t.pushManager&&t.pushManager.getSubscription().then(r=>{})}).catch(t=>{})}async function Ta(){try{const{supabase:t}=await Fe(async()=>{const{supabase:d}=await import("./chunk-v4-1760899745229-BX32o4Tt.js").then(c=>c.f);return{supabase:d}},__vite__mapDeps([3,2,4,1])),{data:r,error:s}=await t.from("drivers").select("count",{count:"exact",head:!0});if(s)return!1;const{data:a,error:o}=await t.from("push_subscriptions").select("count",{count:"exact",head:!0});return!0}catch{return!1}}async function Ea(){const t="https://dsltpiupbfopyvuiqffg.supabase.co/functions/v1/auto-push";try{const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"üß™ Debug Test",message:"Testing Edge Function connectivity",targetType:"all"})});if(r.ok){const s=await r.json();return!0}else return!1}catch{return!1}}async function Ma(){Pa(),await new Promise(s=>setTimeout(s,1e3));const t=await Ta();await new Promise(s=>setTimeout(s,1e3));const r=await Ea();return{supabaseOk:t,edgeFunctionOk:r}}async function er(){try{const t=await navigator.serviceWorker.getRegistration("/bde-evidencija/sw.js");return!t||!await t.pushManager.getSubscription()?!1:t.active?(t.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"üß™ Direktni test",body:"Test notifikacija direktno iz browser-a!",icon:"/bde-evidencija/icon-192x192.png",badge:"/bde-evidencija/badge-96x96.png",data:{type:"test",url:"/",test:!0},requireInteraction:!1,actions:[{action:"open",title:"Otvori app"}]}}),!0):!1}catch{return!1}}async function tr(){try{if(Notification.permission!=="granted")return!1;const{showNotification:t}=await Fe(async()=>{const{showNotification:r}=await import("./chunk-v4-1760899745229-CaAz7H5M.js");return{showNotification:r}},[]);return await t({title:"üß™ Browser API Test",body:"Test notifikacije preko Browser Notification API",icon:"/bde-evidencija/icon-192x192.png",badge:"/bde-evidencija/badge-96x96.png",tag:"test-notification",requireInteraction:!1,data:{type:"browser_api_test",url:"/"}}),!0}catch{return!1}}typeof window<"u"&&(window.testDirectPush=er,window.testBrowserAPI=tr);class za{constructor(){this.logs=[],this.container=null,this.isVisible=!1}log(r,s="info"){const a=new Date().toLocaleTimeString(),o=`[${a}] ${r}`;this.logs.push({message:o,type:s,timestamp:a}),this.logs.length>50&&this.logs.shift(),this.showNotification(o,s);try{}catch{}}showNotification(r,s="info"){const a=document.createElement("div");a.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      max-width: 400px;
      padding: 12px 16px;
      border-radius: 8px;
      font-family: system-ui, sans-serif;
      font-size: 14px;
      z-index: 999999;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      animation: slideIn 0.3s ease-out;
      word-wrap: break-word;
      ${this.getTypeStyles(s)}
    `,a.textContent=r,document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.remove()},4e3)}getTypeStyles(r){switch(r){case"success":return"background: #10B981; color: white;";case"error":return"background: #EF4444; color: white;";case"warning":return"background: #F59E0B; color: white;";default:return"background: #3B82F6; color: white;"}}showDebugPanel(){this.container&&this.container.remove(),this.container=document.createElement("div"),this.container.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 600px;
      height: 400px;
      background: #1F2937;
      color: #F3F4F6;
      border-radius: 12px;
      padding: 20px;
      z-index: 999999;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
      font-family: 'Courier New', monospace;
      font-size: 12px;
      overflow-y: auto;
    `;const r=document.createElement("div");r.style.cssText=`
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid #374151;
    `,r.innerHTML=`
      <h3 style="margin: 0; color: #60A5FA;">üêõ Push Notifications Debug Log</h3>
      <button id="closeDebug" style="
        background: #EF4444;
        color: white;
        border: none;
        padding: 6px 12px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 12px;
      ">Zatvori</button>
    `;const s=document.createElement("div");s.innerHTML=this.logs.map(a=>`
      <div style="margin-bottom: 8px; padding: 8px; border-radius: 4px; background: #374151;">
        ${a.message}
      </div>
    `).join(""),this.container.appendChild(r),this.container.appendChild(s),document.body.appendChild(this.container),document.getElementById("closeDebug").onclick=()=>{this.container.remove(),this.container=null},this.isVisible=!0}async testBrowserAPI(){if(this.log("Test 1: Browser Notification API...","info"),!("Notification"in window)){this.log("‚ùå Browser API: Nije podr≈æan","error");return}if(Notification.permission!=="granted"){this.log("‚ùå Browser API: Nema dozvolu za notifikacije","error");return}try{if("serviceWorker"in navigator){this.log("ÔøΩ Using Service Worker API for notification test","info");try{const r=await navigator.serviceWorker.getRegistration("/bde-evidencija/sw.js");if(r){await r.showNotification("üß™ Browser API Test",{body:"Service Worker notification test radi!",icon:"/bde-evidencija/icon-192x192.png",badge:"/bde-evidencija/badge-96x96.png",tag:"browser-test",requireInteraction:!1}),this.log("‚úÖ Service Worker Browser API test uspe≈°an","success");return}else this.log("‚ö†Ô∏è Service Worker nije registrovan, probavam direktno...","warn")}catch(r){this.log(`‚ö†Ô∏è Service Worker gre≈°ka: ${r.message}, probavam direktno...`,"warn")}}this.log("üñ•Ô∏è Using safe notification helper (desktop fallback)","info");try{const{showNotification:r}=await Fe(async()=>{const{showNotification:s}=await import("./chunk-v4-1760899745229-CaAz7H5M.js");return{showNotification:s}},[]);await r({title:"üß™ Desktop API Test",body:"Desktop browser API test radi!",icon:"/bde-evidencija/icon-192x192.png"}),this.log("‚úÖ Desktop Browser API test uspe≈°an","success")}catch(r){throw new Error(`Direktna Notification API gre≈°ka: ${r.message}`)}}catch(r){this.log(`‚ùå Browser API gre≈°ka: ${r.message}`,"error"),this.log("üí° Savjet: Koristite Service Worker za mobilne ureƒëaje","info")}}async testAllMethods(){if(this.log("üß™ Starting comprehensive push notification test...","info"),this.log("Test 0: Detaljno proveri dozvole...","info"),this.log(`Notification permission: ${Notification.permission}`,"info"),this.log(`Navigator permissions API: ${!!navigator.permissions}`,"info"),navigator.permissions)try{const r=await navigator.permissions.query({name:"notifications"});this.log(`Permissions API status: ${r.state}`,"info")}catch(r){this.log(`Permissions API gre≈°ka: ${r.message}`,"warn")}try{if(await this.testBrowserAPI(),await new Promise(r=>setTimeout(r,500)),this.log("Test 2: Service Worker...","info"),"serviceWorker"in navigator)try{const r=await navigator.serviceWorker.getRegistration("/bde-evidencija/sw.js");r?(this.log("‚úÖ Service Worker registrovan","success"),r.active&&(r.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"üß™ SW Test",body:"Service Worker test radi!",icon:"/bde-evidencija/icon-192x192.png"}}),this.log("‚úÖ Service Worker poruka poslana","success"))):this.log("‚ùå Service Worker nije registrovan","error")}catch(r){this.log(`‚ùå Service Worker gre≈°ka: ${r.message}`,"error")}this.log("Test 3: Push Subscription...","info");try{const r=await navigator.serviceWorker.getRegistration("/bde-evidencija/sw.js");if(r){const s=await r.pushManager.getSubscription();s?(this.log("‚úÖ Push subscription postoji","success"),this.log(`Endpoint: ${s.endpoint.substring(0,50)}...`,"info")):this.log("‚ùå Push subscription ne postoji","error")}}catch(r){this.log(`‚ùå Push subscription gre≈°ka: ${r.message}`,"error")}this.log("Test 4: Simulacija push poruke...","info");try{const r=await navigator.serviceWorker.getRegistration("/bde-evidencija/sw.js");r&&r.active&&(r.active.postMessage({type:"SIMULATE_PUSH",payload:{title:"üß™ Simulacija Push-a",body:"Test simulacije push poruke direktno u SW!",icon:"/bde-evidencija/icon-192x192.png",data:{type:"test",url:"/",test:!0}}}),this.log("‚úÖ Push simulacija poslana u Service Worker","success"))}catch(r){this.log(`‚ùå Push simulacija gre≈°ka: ${r.message}`,"error")}this.log("Test 5: Forsirana direktna notifikacija...","info");try{const r=await navigator.serviceWorker.getRegistration("/bde-evidencija/sw.js");r&&(await r.showNotification("üö® FOR√áA TEST",{body:"Ako vidite ovu notifikaciju, sve radi!",icon:"/bde-evidencija/icon-192x192.png",badge:"/bde-evidencija/badge-96x96.png",tag:"force-test",requireInteraction:!0,vibrate:[300,200,300,200,300]}),this.log("‚úÖ Forsirana notifikacija uspe≈°no poslana!","success"))}catch(r){this.log(`‚ùå Forsirana notifikacija gre≈°ka: ${r.message}`,"error")}this.log("Test 6: Jednostavna direktna notifikacija...","info");try{Notification.permission==="granted"?(new Notification("üîî Direktna notifikacija",{body:"Ovo je direktna browser notifikacija!",icon:"/bde-evidencija/icon-192x192.png"}),this.log("‚úÖ Direktna browser notifikacija poslana!","success")):this.log("‚ùå Nema dozvolu za direktne notifikacije","error")}catch(r){this.log(`‚ùå Direktna notifikacija gre≈°ka: ${r.message}`,"error")}this.log("üèÅ Test zavr≈°en - proveri notifikacije!","success"),this.log("üí° Ako ne vidite notifikacije, proverite browser settings!","info")}catch(r){this.log(`‚ùå Globalna gre≈°ka: ${r.message}`,"error")}}}const Ae=new za,rr=document.createElement("style");rr.textContent=`
  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;document.head.appendChild(rr);window.debugPush=Ae;const Aa=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"}));function Et({user:t,onChangePassword:r,onLogout:s,scraperData:a,currentTheme:o="default",themes:d}){const[c,n]=i.useState(!1),[l,j]=i.useState(!1),[S,P]=i.useState(!1),F=i.useRef(null),$=i.useRef(null),w=i.useRef(null),k=He(),H=d||{default:{accent:"from-blue-600 to-purple-600",gradient:"bg-gradient-to-r from-blue-500 to-purple-500"},sunrise:{accent:"from-orange-500 to-pink-500",gradient:"bg-gradient-to-r from-orange-400 to-pink-400"},afternoon:{accent:"from-blue-500 to-cyan-500",gradient:"bg-gradient-to-r from-blue-400 to-cyan-400"},evening:{accent:"from-purple-600 to-indigo-600",gradient:"bg-gradient-to-r from-purple-500 to-indigo-500"},night:{accent:"from-gray-600 to-blue-800",gradient:"bg-gradient-to-r from-gray-500 to-blue-700"}},x=()=>a?a.status==="completed"?{text:"Uspe≈°no",color:"text-emerald-500"}:a.status==="in_progress"?{text:"U toku",color:"text-amber-500"}:a.status==="failure"?{text:"Gre≈°ka",color:"text-rose-500"}:{text:"Nepoznato",color:"text-gray-500"}:{text:"Nepoznato",color:"text-gray-500"},K=()=>{var m,E,J;if(!a)return"Nepoznato";const D=[a.formattedTimestamp,a.timestamp,(m=a.raw)==null?void 0:m.updated_at,(E=a.raw)==null?void 0:E.run_started_at,(J=a.raw)==null?void 0:J.created_at];for(const U of D)if(U){const A=new Date(U);if(!isNaN(A.getTime()))return`${String(A.getDate()).padStart(2,"0")}.${String(A.getMonth()+1).padStart(2,"0")} ${String(A.getHours()).padStart(2,"0")}:${String(A.getMinutes()).padStart(2,"0")}`}return"Nepoznato"};i.useEffect(()=>{(async()=>{if(Ee.isSupported()){const m=await Ee.checkRegistrationStatus((t==null?void 0:t.id)||"admin");j(m)}})()},[t]);const T=async()=>{P(!0);try{l?j(!1):(await Ee.requestPermissionAndRegister((t==null?void 0:t.id)||"admin",(t==null?void 0:t.role)||"user")).success&&j(!0)}catch{}finally{P(!1)}};i.useEffect(()=>{const D=m=>{const E=$.current&&!$.current.contains(m.target),J=F.current&&!F.current.contains(m.target),U=w.current&&!w.current.contains(m.target);E&&J&&U&&n(!1)};if(c)return document.addEventListener("mousedown",D),document.addEventListener("touchstart",D),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[c]);const W=()=>n(!c),h=D=>{n(!1),setTimeout(()=>D==null?void 0:D(),100)};return e.jsxs("div",{className:"relative inline-block text-left",ref:F,style:{zIndex:c?999999:"auto",position:"relative"},children:[e.jsx(u.div,{ref:$,onClick:W,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:e.jsxs(u.div,{className:`flex items-center gap-3 px-3 py-2 ${o==="night"?"bg-gray-800/40":"bg-white/60"} backdrop-blur-2xl rounded-full border ${o==="night"?"border-white/10":"border-gray-100/50"} cursor-pointer transition-all duration-300`,style:{boxShadow:o==="night"?"6px 6px 12px rgba(0,0,0,0.4), -6px -6px 12px rgba(255,255,255,0.02)":"6px 6px 12px rgba(0,0,0,0.08), -6px -6px 12px rgba(255,255,255,0.8)"},whileHover:{boxShadow:o==="night"?"8px 8px 16px rgba(0,0,0,0.6), -8px -8px 16px rgba(255,255,255,0.05)":"8px 8px 16px rgba(0,0,0,0.12), -8px -8px 16px rgba(255,255,255,0.9)"},children:[e.jsx(u.div,{className:`w-8 h-8 rounded-full bg-gradient-to-br ${H[o].accent} flex items-center justify-center text-white font-bold`,whileHover:{rotate:[0,5,-5,0],scale:1.1},transition:{duration:.5},children:(t==null?void 0:t.role)==="admin"?e.jsx(Be,{className:"w-6 h-6 text-amber-400"}):e.jsx(Oe,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:`font-medium ${o==="night"?"text-gray-200":"text-gray-800"}`,children:(t==null?void 0:t.name)||"Korisnik"}),e.jsx(u.div,{animate:{rotate:c?180:0},transition:{duration:.3},children:e.jsx(fr,{className:`w-4 h-4 ${o==="night"?"text-gray-400":"text-gray-500"}`})})]})}),e.jsx(dt,{children:c&&e.jsxs(u.div,{ref:w,initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25},className:`absolute right-0 mt-2 w-72 ${o==="night"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-3xl border ${o==="night"?"border-white/30":"border-gray-300"} rounded-2xl p-4`,style:{zIndex:999999,position:"absolute",top:"100%",right:0,boxShadow:o==="night"?"0 25px 50px rgba(0,0,0,0.8), 0 10px 30px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.2)":"0 25px 50px rgba(0,0,0,0.15), 0 10px 30px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.1)",transform:"translateZ(0)",willChange:"transform, opacity"},onClick:D=>D.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(u.div,{className:`w-10 h-10 bg-gradient-to-br ${H[o].accent} rounded-full flex items-center justify-center text-white font-bold`,whileHover:{scale:1.1,rotate:5},transition:{duration:.3},style:{boxShadow:o==="night"?"3px 3px 6px rgba(0,0,0,0.6), -2px -2px 4px rgba(255,255,255,0.05)":"3px 3px 6px rgba(0,0,0,0.15), -2px -2px 4px rgba(255,255,255,0.8)"},children:(t==null?void 0:t.role)==="admin"?e.jsx(Be,{className:"w-6 h-6 text-amber-400"}):e.jsx(Oe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold text-sm ${o==="night"?"text-gray-100":"text-gray-900"}`,children:(t==null?void 0:t.name)||"Korisnik"}),e.jsx("p",{className:`text-xs ${o==="night"?"text-gray-400":"text-gray-500"}`,children:(t==null?void 0:t.username)||"korisnik"})]}),(t==null?void 0:t.role)==="admin"&&e.jsx(u.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(Be,{className:"w-4 h-4 text-amber-500"})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:(t==null?void 0:t.role)!=="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs(u.div,{className:`${o==="night"?"bg-gray-800/50 border-gray-600/50":"bg-blue-50/80 border-blue-200/60"} border rounded-xl p-2 transition-all hover:shadow-sm backdrop-blur-sm`,whileHover:{scale:1.02},transition:{duration:.2},children:[e.jsx("div",{className:`text-xs font-medium ${o==="night"?"text-blue-400":"text-blue-600"} mb-1`,children:"Zadnja plata"}),e.jsx("div",{className:`font-bold ${o==="night"?"text-blue-300":"text-blue-900"} text-sm`,children:(t==null?void 0:t.zadnjaPlata)||"-"})]}),e.jsxs(u.div,{className:`${o==="night"?"bg-gray-800/50 border-gray-600/50":"bg-emerald-50/80 border-emerald-200/60"} border rounded-xl p-2 transition-all hover:shadow-sm backdrop-blur-sm`,whileHover:{scale:1.02},transition:{duration:.2},children:[e.jsx("div",{className:`text-xs font-medium ${o==="night"?"text-emerald-400":"text-emerald-600"} mb-1`,children:"Ukupna zarada"}),e.jsx("div",{className:`font-bold ${o==="night"?"text-emerald-300":"text-emerald-900"} text-sm`,children:(t==null?void 0:t.ukupnaZarada)||"-"})]})]})}),(t==null?void 0:t.role)==="admin"&&a&&e.jsxs(u.div,{className:`${o==="night"?"bg-gray-800/50 border-gray-600/50":"bg-blue-50/80 border-blue-200/60"} border rounded-xl p-2 mb-3 backdrop-blur-sm`,whileHover:{scale:1.02},transition:{duration:.2},children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:`${o==="night"?"text-gray-300":"text-gray-600"} flex items-center gap-1`,children:[e.jsx(qe,{className:`w-3 h-3 ${o==="night"?"text-blue-400":"text-blue-500"}`}),"Status:"]}),e.jsx("span",{className:`font-medium ${x().color}`,children:x().text})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[e.jsxs("span",{className:`${o==="night"?"text-gray-400":"text-gray-500"} flex items-center gap-1`,children:[e.jsx(At,{className:"w-3 h-3"}),"Vrijeme:"]}),e.jsx("span",{className:`${o==="night"?"text-gray-300":"text-gray-700"} font-mono`,children:K()})]})]}),e.jsxs("div",{className:"space-y-1",children:[(t==null?void 0:t.role)==="admin"?e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-blue-400":"hover:bg-blue-50 text-blue-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>h(()=>k("/admin")),children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Admin Panel"]})}):e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-emerald-400":"hover:bg-green-50 text-emerald-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>h(()=>k("/payroll-list")),children:[e.jsx(br,{className:"w-4 h-4 mr-2"}),"Platne liste"]})}),e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-amber-400":"hover:bg-amber-50 text-amber-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>{typeof r=="function"&&r()},children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Promijeni ≈°ifru"]})}),Ee.isSupported()&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",disabled:S,className:`w-full justify-start text-left ${o==="night"?`hover:bg-gray-700/50 ${l?"text-green-400":"text-gray-400"}`:`hover:bg-blue-50 ${l?"text-green-600":"text-gray-600"}`} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>h(T),children:[S?e.jsx("div",{className:"w-4 h-4 mr-2 animate-spin border-2 border-current border-t-transparent rounded-full"}):l?e.jsx(kt,{className:"w-4 h-4 mr-2"}):e.jsx(yr,{className:"w-4 h-4 mr-2"}),S?"Uƒçitava...":l?"Obavje≈°tenja ukljuƒçena":"Ukljuƒçi obavje≈°tenja"]})}),l&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-purple-400":"hover:bg-purple-50 text-purple-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:async()=>{h(async()=>{await Ee.sendTestNotification()})},children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Test Supabase"]})}),e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-green-400":"hover:bg-green-50 text-green-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>{h(async()=>{await er()})},children:[e.jsx(kt,{className:"w-4 h-4 mr-2"}),"Test direktno"]})}),e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-blue-400":"hover:bg-blue-50 text-blue-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>{h(async()=>{await tr()})},children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Test Browser API"]})})]}),(t==null?void 0:t.role)==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-orange-400":"hover:bg-orange-50 text-orange-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>{h(async()=>{Ae.log("üêõ Running push notifications diagnostic..."),await Ma()})},children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Debug obavje≈°tenja"]})}),e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-yellow-400":"hover:bg-yellow-50 text-yellow-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>{h(async()=>{await Ae.testAllMethods(),setTimeout(()=>{Ae.showDebugPanel()},1e3)})},children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Visual Test"]})})]})]}),e.jsx(u.div,{whileHover:{x:2},whileTap:{scale:.98},children:e.jsxs(pe,{variant:"ghost",size:"sm",className:`w-full justify-start text-left ${o==="night"?"hover:bg-gray-700/50 text-rose-400":"hover:bg-rose-50 text-rose-600"} rounded-xl transition-all duration-300 py-2 text-sm`,onClick:()=>h(s),children:[e.jsx(wr,{className:"w-4 h-4 mr-2"}),"Odjava"]})})]})]})})]})}const ar=i.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:je("rounded-xl border bg-card text-card-foreground shadow",t),...r}));ar.displayName="Card";const Oa=i.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:je("flex flex-col space-y-1.5 p-6",t),...r}));Oa.displayName="CardHeader";const Ra=i.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:je("font-semibold leading-none tracking-tight",t),...r}));Ra.displayName="CardTitle";const Fa=i.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:je("text-sm text-muted-foreground",t),...r}));Fa.displayName="CardDescription";const Ha=i.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:je("p-6 pt-0",t),...r}));Ha.displayName="CardContent";const Wa=i.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:je("flex items-center p-6 pt-0",t),...r}));Wa.displayName="CardFooter";const La=(t,...r)=>{};function Ua({isOpen:t,onClose:r,onChangePassword:s,loading:a}){const[o,d]=i.useState(""),[c,n]=i.useState(""),[l,j]=i.useState(""),[S,P]=i.useState(null),[F,$]=i.useState(!1),[w,k]=i.useState(!1),[_,H]=i.useState("default"),x={default:{background:"from-slate-50 via-blue-50 to-indigo-100",accent:"from-blue-500 to-purple-500",particles:["bg-blue-400/20","bg-purple-400/20","bg-indigo-400/20"]},sunrise:{background:"from-orange-50 via-pink-50 to-red-100",accent:"from-orange-500 to-pink-500",particles:["bg-orange-400/20","bg-pink-400/20","bg-red-400/20"]},afternoon:{background:"from-amber-50 via-yellow-50 to-orange-100",accent:"from-amber-500 to-orange-500",particles:["bg-amber-400/20","bg-yellow-400/20","bg-orange-400/20"]},evening:{background:"from-purple-50 via-indigo-50 to-blue-100",accent:"from-purple-500 to-indigo-500",particles:["bg-purple-400/20","bg-indigo-400/20","bg-blue-400/20"]},night:{background:"from-gray-800 via-gray-900 to-black",accent:"from-blue-400 to-purple-400",particles:["bg-blue-300/30","bg-purple-300/30","bg-indigo-300/30"]}};i.useEffect(()=>{const h=()=>{const m=new Date().getHours();m>=5&&m<8?H("sunrise"):m>=8&&m<12?H("default"):m>=12&&m<17?H("afternoon"):m>=17&&m<20?H("evening"):H("night")};h();const D=setInterval(h,6e4);return()=>clearInterval(D)},[]);const K=async h=>{if(h.preventDefault(),!o.trim()){P("Molimo unesite staru lozinku");return}if(!c.trim()){P("Molimo unesite novu lozinku");return}if(c.length<4){P("Nova lozinka mora imati najmanje 4 karaktera");return}if(c!==l){P("Nove lozinke se ne poklapaju");return}try{P(null),k(!0),await s(o,c),$(!0),setTimeout(()=>{T()},2e3)}catch(D){P(D.message||"Gre≈°ka pri promjeni lozinke")}finally{k(!1)}},T=()=>{d(""),n(""),j(""),P(null),$(!1),r()};if(!t)return null;const W=_==="night";return e.jsx(dt,{children:t&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:T,children:e.jsxs(u.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",duration:.3},className:`${W?"bg-gray-800":"bg-white"} rounded-2xl shadow-2xl max-w-md w-full overflow-hidden`,onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:`bg-gradient-to-r ${x[_].accent} p-6 text-white relative`,children:[e.jsx("button",{onClick:T,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(jr,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:e.jsx(Ot,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Promjena lozinke"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Unesite staru i novu lozinku"})]})]})]}),e.jsx("div",{className:"p-6",children:F?e.jsxs(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(kr,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:`text-xl font-bold ${W?"text-white":"text-gray-800"} mb-2`,children:"Lozinka promijenjena!"}),e.jsx("p",{className:`${W?"text-gray-400":"text-gray-600"}`,children:"Va≈°a lozinka je uspje≈°no a≈æurirana."})]}):e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${W?"text-gray-300":"text-gray-700"} mb-2`,children:"Stara lozinka"}),e.jsx("input",{type:"password",value:o,onChange:h=>d(h.target.value),placeholder:"Unesite staru lozinku",disabled:w,autoFocus:!0,className:`w-full px-4 py-3 border ${W?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${W?"text-gray-300":"text-gray-700"} mb-2`,children:"Nova lozinka"}),e.jsx("input",{type:"password",value:c,onChange:h=>n(h.target.value),placeholder:"Unesite novu lozinku",disabled:w,className:`w-full px-4 py-3 border ${W?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${W?"text-gray-300":"text-gray-700"} mb-2`,children:"Potvrdite novu lozinku"}),e.jsx("input",{type:"password",value:l,onChange:h=>j(h.target.value),placeholder:"Ponovite novu lozinku",disabled:w,className:`w-full px-4 py-3 border ${W?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-all`})]}),S&&e.jsxs(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`flex items-start gap-2 p-4 ${W?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"} border rounded-xl`,children:[e.jsx(gt,{className:`w-5 h-5 ${W?"text-red-400":"text-red-600"} flex-shrink-0 mt-0.5`}),e.jsx("p",{className:`text-sm ${W?"text-red-300":"text-red-800"}`,children:S})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:T,disabled:w,className:`flex-1 px-4 py-3 border ${W?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} rounded-xl disabled:opacity-50 font-medium transition-all`,children:"Otka≈æi"}),e.jsx("button",{type:"submit",disabled:w||!o.trim()||!c.trim()||!l.trim(),className:`flex-1 px-4 py-3 bg-gradient-to-r ${x[_].accent} text-white rounded-xl hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-all shadow-lg`,children:w?"Mijenjam...":"Promijeni lozinku"})]})]})})]})})})}function Ba(){const[t,r]=i.useState(!1),[s,a]=i.useState(null),[o,d]=i.useState(new Date),[c,n]=i.useState([{id:1,message:"Novi podatci sinhronizovani",time:"5 min",read:!1},{id:2,message:"GitHub scraper zavr≈°en",time:"1h",read:!1},{id:3,message:"Payroll a≈æuriran",time:"2h",read:!0}]),[l,j]=i.useState(!1),[S,P]=i.useState("-"),[F,$]=i.useState("-"),[w,k]=i.useState([]),[_,H]=i.useState([]),[x,K]=i.useState(0),[T,W]=i.useState("night"),[h,D]=i.useState({}),m=He(),{currentUser:E,logout:J,changePassword:U}=Wt();E!=null&&E.name||E!=null&&E.ime;const A={default:{background:"from-slate-50 via-blue-50 to-indigo-100",accent:"from-blue-500 to-purple-500",particles:["bg-blue-400/20","bg-purple-400/20","bg-indigo-400/20"]},sunrise:{background:"from-orange-50 via-pink-50 to-red-100",accent:"from-orange-500 to-pink-500",particles:["bg-orange-400/20","bg-pink-400/20","bg-red-400/20"]},afternoon:{background:"from-amber-50 via-yellow-50 to-orange-100",accent:"from-amber-500 to-orange-500",particles:["bg-amber-400/20","bg-yellow-400/20","bg-orange-400/20"]},evening:{background:"from-purple-50 via-indigo-50 to-blue-100",accent:"from-purple-500 to-indigo-500",particles:["bg-purple-400/20","bg-indigo-400/20","bg-blue-400/20"]},night:{background:"from-slate-900 via-blue-900 to-indigo-900",accent:"from-blue-400 to-cyan-400",particles:["bg-blue-400/20","bg-cyan-400/20","bg-indigo-400/20"]}},G=()=>e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:_.map(g=>e.jsx(u.div,{className:`absolute rounded-full ${g.color}`,style:{left:`${g.x}%`,top:`${g.y}%`,width:`${g.size}px`,height:`${g.size}px`},animate:{y:[0,-100,0],x:[0,Math.sin(g.id*.5)*50,0],opacity:[.2,.8,.2],scale:[1,1.5,1]},transition:{duration:g.duration,delay:g.delay,repeat:1/0,ease:"easeInOut"}},g.id))}),V=(g,p)=>{X(g,p)},ee=g=>{O(g)},X=(g,p)=>{const M=g.currentTarget.getBoundingClientRect(),Y=g.clientX-M.left,C=g.clientY-M.top,z=M.width/2,L=M.height/2,B=(C-L)/10,Z=(z-Y)/10;D(oe=>({...oe,[p]:{transform:`perspective(1000px) rotateX(${B}deg) rotateY(${Z}deg) scale3d(1.02, 1.02, 1.02)`,transition:"transform 0.1s ease-out"}}))},O=g=>{D(p=>({...p,[g]:{transform:"perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)",transition:"transform 0.3s ease-out"}}))},b=async()=>{if(E){try{const{data:g,error:p}=await ae.from("payroll_amounts").select("neto").eq("driver_name",E.name.toLowerCase());if(p)throw p;const N=g.reduce((M,Y)=>M+(Y.neto||0),0);P(`${N.toFixed(2)} ‚Ç¨`)}catch{P("Gre≈°ka")}try{const{data:g,error:p}=await ae.from("payroll_amounts").select("neto, file_name, created_at").eq("driver_name",E.name.toLowerCase()).order("file_name",{ascending:!1}).limit(1);if(p)throw p;g&&g.length>0&&typeof g[0].neto=="number"?$(`${Number(g[0].neto).toFixed(2)} ‚Ç¨`):$("-")}catch{$("Gre≈°ka")}}};i.useEffect(()=>{E&&b()},[E]),c.filter(g=>!g.read).length;const se=async()=>{try{La("üêô Poku≈°avam da dohvatim podatke sa GitHub API...");const g="eldin007b/gls-scraper",p="your_production_github_token",[N,M]=g.split("/"),Y=z=>{if(!z)return"Nepoznato";const L=new Date(z);if(isNaN(L.getTime()))return"Nepoznato";const B=L.getDate().toString().padStart(2,"0"),Z=(L.getMonth()+1).toString().padStart(2,"0"),oe=L.getHours().toString().padStart(2,"0"),ne=L.getMinutes().toString().padStart(2,"0");return`${B}.${Z} ${oe}:${ne}`};let C=await fetch(`https://api.github.com/repos/${N}/${M}/actions/runs?per_page=5`,{headers:{Accept:"application/vnd.github.v3+json",...p&&{Authorization:`token ${p}`}}});if(!C.ok&&C.status===401&&p&&(C=await fetch(`https://api.github.com/repos/${N}/${M}/actions/runs?per_page=5`,{headers:{Accept:"application/vnd.github.v3+json"}})),C.ok){const L=((await C.json()).workflow_runs||[]).filter(B=>{const Z=(B.name||"").toLowerCase();return Z.includes("gls scraper")||Z.includes("scraper")||Z.includes("gls")});if(L.length>0){const B=L[0],Z=B.updated_at||B.run_started_at||B.created_at||new Date().toISOString(),oe=Y(Z),ne={status:B.conclusion==="success"||B.conclusion==="completed"?"completed":B.conclusion||"unknown",mode:"Automatski (GitHub)",timestamp:Z,formattedTimestamp:oe,name:B.name,repoUsed:`${N}/${M}`,raw:B};a(ne);try{localStorage.setItem("github_scraper_history",JSON.stringify([ne]))}catch{}return!0}}}catch{}return!1};i.useEffect(()=>{const g=async()=>{try{if(await se()){const C=localStorage.getItem("github_scraper_history");if(C){const z=JSON.parse(C);if(z.length>0){a(z[0]);return}}}const Y=localStorage.getItem("github_scraper_history");if(Y){const C=JSON.parse(Y);if(C.length>0){const z=C[0];a(z)}else a(null)}else{const C=localStorage.getItem("autoSyncState");if(C)try{const z=JSON.parse(C),L={status:"completed",mode:"Automatski",timestamp:z.lastSync?new Date(z.lastSync).toLocaleString("bs-BA"):"Nepoznato"};a(L)}catch{await se()||a(null)}else await se()||a(null)}}catch{a(null)}};(async()=>{await g()})();const N=setInterval(()=>{g().catch(M=>{})},3e4);return()=>clearInterval(N)},[]),i.useEffect(()=>{const g=setInterval(()=>{d(new Date)},3e4);return()=>clearInterval(g)},[]),i.useEffect(()=>{(()=>{const p=A[T],N=Array.from({length:40},(M,Y)=>({id:Y,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+1,color:p.particles[Math.floor(Math.random()*p.particles.length)],duration:Math.random()*25+15,delay:Math.random()*8}));H(N)})()},[T]),i.useEffect(()=>{W("night")},[]),i.useEffect(()=>{const g=()=>{K(window.scrollY)};return window.addEventListener("scroll",g,{passive:!0}),()=>window.removeEventListener("scroll",g)},[]),i.useEffect(()=>{const g=p=>{l&&!p.target.closest(".notification-container")&&j(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[l]),i.useEffect(()=>{const g=p=>{var N,M,Y;try{const C=p.detail;if(C){const z={...C,timestamp:C.timestamp&&typeof C.timestamp=="string"&&C.timestamp.indexOf("T")!==-1?C.timestamp:((N=C.raw)==null?void 0:N.updated_at)||((M=C.raw)==null?void 0:M.run_started_at)||((Y=C.raw)==null?void 0:Y.created_at)||C.timestamp,formattedTimestamp:C.formattedTimestamp||(C.timestamp?(()=>{try{const L=new Date(C.timestamp);if(!isNaN(L.getTime())){const B=L.getDate().toString().padStart(2,"0"),Z=(L.getMonth()+1).toString().padStart(2,"0"),oe=L.getHours().toString().padStart(2,"0"),ne=L.getMinutes().toString().padStart(2,"0");return`${B}.${Z} ${oe}:${ne}`}}catch{}return C.timestamp})():C.timestamp)};a(z)}}catch{}};return window.addEventListener("githubSync:updated",g),()=>window.removeEventListener("githubSync:updated",g)},[]);const f=[{title:"Statistika",desc:"Grafovi i izvje≈°taji",icon:e.jsx(Nr,{className:"w-8 h-8 md:w-10 md:h-10"}),path:"/statistika",gradient:"from-purple-500 to-pink-500",hoverGradient:"from-purple-600 to-pink-600",bgColor:"bg-purple-50",iconColor:"text-purple-600"},{title:"Navigacija",desc:"Mapa i praƒáenje ruta",icon:e.jsx(Sr,{className:"w-8 h-8 md:w-10 md:h-10"}),path:"/navigacija",gradient:"from-indigo-500 to-blue-500",hoverGradient:"from-indigo-600 to-blue-600",bgColor:"bg-indigo-50",iconColor:"text-indigo-600"},{title:"Dostava",desc:"Pregled po mjesecu",icon:e.jsx(Oe,{className:"w-8 h-8 md:w-10 md:h-10"}),path:"/deliveries",gradient:"from-blue-500 to-cyan-500",hoverGradient:"from-blue-600 to-cyan-600",bgColor:"bg-blue-50",iconColor:"text-blue-600"},{title:"Vozaƒçi",desc:"Detaljna statistika po vozaƒçu",icon:e.jsx(Ke,{className:"w-8 h-8 md:w-10 md:h-10"}),path:"/drivers",gradient:"from-emerald-500 to-teal-500",hoverGradient:"from-emerald-600 to-teal-600",bgColor:"bg-emerald-50",iconColor:"text-emerald-600"},{title:"Extra vo≈ænje",desc:"Posebne ture (Sonderfahrt)",icon:e.jsx($r,{className:"w-8 h-8 md:w-10 md:h-10"}),path:"/extra-rides",gradient:"from-orange-500 to-red-500",hoverGradient:"from-orange-600 to-red-600",bgColor:"bg-orange-50",iconColor:"text-orange-600"},{title:"O aplikaciji",desc:"Informacije i pomoƒá",icon:e.jsx(Cr,{className:"w-8 h-8 md:w-10 md:h-10"}),path:"/about",gradient:"from-gray-500 to-slate-500",hoverGradient:"from-gray-600 to-slate-600",bgColor:"bg-gray-50",iconColor:"text-gray-600"}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${A[T].background} relative transition-all duration-1000`,children:[e.jsx(G,{}),e.jsxs("div",{className:"absolute inset-0 opacity-30",children:[e.jsx(u.div,{style:{transform:`translateY(${x*.2}px) translateX(${x*.1}px)`},className:`absolute top-20 left-10 w-96 h-96 bg-gradient-to-r ${A[T].accent} rounded-full mix-blend-multiply filter blur-3xl`,animate:{scale:[1,1.1,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),e.jsx(u.div,{style:{transform:`translateY(${x*-.15}px) translateX(${x*-.05}px)`},className:"absolute top-40 right-10 w-80 h-80 bg-gradient-to-r from-yellow-400/40 to-pink-400/40 rounded-full mix-blend-multiply filter blur-2xl",animate:{scale:[1.1,1,1.1],opacity:[.4,.6,.4]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2}}),e.jsx(u.div,{style:{transform:`translateY(${x*.25}px) translateX(${x*-.08}px)`},className:"absolute -bottom-8 left-20 w-72 h-72 bg-gradient-to-r from-emerald-400/30 to-blue-400/30 rounded-full mix-blend-multiply filter blur-xl",animate:{scale:[1,1.2,1],opacity:[.25,.45,.25]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:4}})]}),e.jsx("div",{className:"relative z-10 flex flex-col items-center justify-start py-8 px-4",children:e.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[e.jsx(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8 relative z-[1000]",style:{transform:`translateY(${x*.1}px)`},children:e.jsxs("div",{className:`${T==="night"?"bg-gray-800/20":"bg-white/20"} backdrop-blur-3xl border ${T==="night"?"border-white/10":"border-white/30"} rounded-3xl p-4 md:p-6 shadow-2xl relative`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${A[T].accent.replace("from-","from-").replace("to-","to-")}/10 rounded-3xl`}),e.jsx(u.div,{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${A[T].accent} p-[1px]`,animate:{opacity:[0,.3,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:e.jsx("div",{className:`w-full h-full rounded-3xl ${T==="night"?"bg-gray-800/20":"bg-white/20"} backdrop-blur-3xl`})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col lg:hidden gap-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30",style:{transform:"scale(1.1)",filter:"drop-shadow(0 8px 32px rgba(0,0,0,0.3))"}}),e.jsx("h1",{className:"relative text-2xl sm:text-3xl md:text-4xl font-black tracking-wider leading-tight text-slate-800 px-4 py-2 md:px-6 md:py-3",style:{textShadow:"1px 1px 2px rgba(255,255,255,0.8), 0 0 4px rgba(255,255,255,0.6)",fontWeight:"900",letterSpacing:"0.05em"},children:"B&D Evidencija"})]})})}),e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-white/25 backdrop-blur-sm rounded-full border border-white/30",style:{filter:"drop-shadow(0 4px 16px rgba(0,0,0,0.2))"}}),e.jsxs("div",{className:"relative flex items-center gap-2 px-3 py-1.5",children:[e.jsx(Re,{className:"w-3 h-3 text-slate-700"}),e.jsx("span",{className:"text-xs font-semibold text-slate-800",style:{textShadow:"1px 1px 2px rgba(255,255,255,0.8)"},children:(()=>{const g=o.getDate().toString().padStart(2,"0"),p=(o.getMonth()+1).toString().padStart(2,"0"),N=o.getFullYear(),M=o.getHours().toString().padStart(2,"0"),Y=o.getMinutes().toString().padStart(2,"0");return`${g}.${p}.${N} ${M}:${Y}`})()})]})]}),e.jsx(Et,{user:{...E,ukupnaZarada:S,zadnjaPlata:F},onChangePassword:()=>r(!0),onLogout:J,currentTheme:T,themes:A})]})]}),e.jsxs("div",{className:"hidden lg:flex lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute inset-0 bg-white/25 backdrop-blur-md rounded-2xl border border-white/40",style:{transform:"scale(1.1)",filter:"drop-shadow(0 12px 40px rgba(0,0,0,0.3))"}}),e.jsx("h1",{className:"relative text-3xl md:text-4xl font-black tracking-wide text-slate-800 px-6 py-3",style:{textShadow:"2px 2px 4px rgba(255,255,255,0.8), 0 0 6px rgba(255,255,255,0.6)",fontWeight:"900",letterSpacing:"0.05em"},children:"B&D Evidencija"})]})})}),e.jsx("div",{className:"flex justify-center flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-white/25 backdrop-blur-md rounded-full border border-white/30",style:{filter:"drop-shadow(0 6px 20px rgba(0,0,0,0.25))"}}),e.jsxs("div",{className:"relative flex items-center gap-2 px-4 py-2",children:[e.jsx(Re,{className:"w-4 h-4 text-slate-700"}),e.jsx("span",{className:"text-sm font-semibold text-slate-800",style:{textShadow:"1px 1px 2px rgba(255,255,255,0.8)"},children:(()=>{const g=o.getDate().toString().padStart(2,"0"),p=(o.getMonth()+1).toString().padStart(2,"0"),N=o.getFullYear(),M=o.getHours().toString().padStart(2,"0"),Y=o.getMinutes().toString().padStart(2,"0");return`${g}.${p}.${N} ${M}:${Y}`})()})]})]})}),e.jsx(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.6},className:"flex items-center gap-3 justify-end flex-shrink-0",children:e.jsx(Et,{user:{...E,ukupnaZarada:S,zadnjaPlata:F},onChangePassword:()=>r(!0),onLogout:J,currentTheme:T,themes:A})})]})]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:f.map((g,p)=>e.jsx(u.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,delay:.6+p*.1,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.05,rotateX:5,rotateY:5,transition:{duration:.3}},whileTap:{scale:.95},className:"group perspective-1000",style:{transformStyle:"preserve-3d",...h[`card-${p}`]},onMouseEnter:N=>V(N,`card-${p}`),onMouseLeave:()=>ee(`card-${p}`),onMouseMove:N=>X(N,`card-${p}`),children:e.jsxs(ar,{className:`cursor-pointer relative overflow-hidden ${T==="night"?"bg-gray-800/30 shadow-inner shadow-gray-900/20":"bg-white/40 shadow-inner shadow-gray-300/20"} backdrop-blur-2xl border-0 transition-all duration-500 rounded-3xl p-4 md:p-8 min-h-[180px] md:h-auto flex flex-col justify-between group-hover:shadow-2xl group-hover:backdrop-blur-3xl`,style:{boxShadow:T==="night"?"12px 12px 24px rgba(0,0,0,0.5), -12px -12px 24px rgba(255,255,255,0.02), inset 2px 2px 6px rgba(255,255,255,0.1)":"12px 12px 24px rgba(0,0,0,0.1), -12px -12px 24px rgba(255,255,255,0.8), inset 2px 2px 6px rgba(255,255,255,0.5)",transformStyle:"preserve-3d"},onClick:()=>m(g.path),children:[e.jsx(u.div,{className:`absolute inset-0 bg-gradient-to-br ${g.gradient} rounded-3xl`,initial:{opacity:0},whileHover:{opacity:.15,scale:1.1},transition:{duration:.4}}),e.jsxs(u.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500",initial:{opacity:0},whileHover:{opacity:.3},children:[e.jsx("div",{className:"absolute top-2 left-2 w-1 h-1 bg-white rounded-full animate-pulse",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"absolute top-4 right-3 w-0.5 h-0.5 bg-white rounded-full animate-pulse",style:{animationDelay:"200ms"}}),e.jsx("div",{className:"absolute bottom-3 left-4 w-1.5 h-1.5 bg-white rounded-full animate-pulse",style:{animationDelay:"400ms"}}),e.jsx("div",{className:"absolute bottom-2 right-2 w-0.5 h-0.5 bg-white rounded-full animate-pulse",style:{animationDelay:"600ms"}})]}),e.jsxs(u.div,{className:`w-12 h-12 md:w-16 md:h-16 ${g.bgColor} rounded-2xl flex items-center justify-center mb-2 md:mb-6 relative z-10`,style:{boxShadow:T==="night"?"6px 6px 12px rgba(0,0,0,0.6), -6px -6px 12px rgba(255,255,255,0.05), inset 2px 2px 4px rgba(255,255,255,0.1)":"6px 6px 12px rgba(0,0,0,0.15), -6px -6px 12px rgba(255,255,255,0.9), inset 2px 2px 4px rgba(255,255,255,0.7)"},whileHover:{scale:1.15,rotateY:15,rotateX:15,transition:{duration:.3}},initial:{rotateY:0,rotateX:0},children:[e.jsx(u.div,{className:g.iconColor,whileHover:{rotate:[0,5,-5,0],scale:1.1},transition:{rotate:{duration:.5,ease:"easeInOut"},scale:{duration:.2}},children:g.icon}),e.jsx(u.div,{className:"absolute inset-0 rounded-2xl bg-gradient-to-tr from-white/20 to-transparent opacity-0",whileHover:{opacity:1,backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:.6}})]}),e.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",children:[e.jsx(u.h3,{className:`text-sm md:text-xl font-bold mb-1 md:mb-2 ${T==="night"?"text-gray-200 group-hover:text-white":"text-gray-800 group-hover:text-gray-900"} transition-colors leading-tight`,whileHover:{scale:1.05,x:2},transition:{duration:.2},children:g.title}),e.jsx(u.p,{className:`text-xs md:text-base ${T==="night"?"text-gray-400 group-hover:text-gray-300":"text-gray-600 group-hover:text-gray-700"} transition-colors leading-relaxed mt-2`,initial:{opacity:.8},whileHover:{opacity:1,y:-1},transition:{duration:.2},children:g.desc})]}),e.jsx(u.div,{className:"absolute top-4 md:top-6 right-4 md:right-6 z-20",initial:{opacity:0,x:-10,rotate:-45},whileHover:{opacity:1,x:0,rotate:0,scale:1.2,transition:{duration:.3}},children:e.jsx(u.div,{animate:{y:[0,-2,0],rotate:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:e.jsx(Ze,{className:`w-4 h-4 md:w-5 md:h-5 ${T==="night"?"text-gray-300":"text-gray-500"}`})})}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${g.gradient} transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left`})]})},p))}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mt-16 text-center relative z-10",children:e.jsxs(u.div,{className:`${T==="night"?"bg-gray-800/30":"bg-white/30"} backdrop-blur-xl rounded-2xl p-6 border ${T==="night"?"border-white/10":"border-gray-200/30"} relative overflow-hidden`,style:{boxShadow:T==="night"?"8px 8px 16px rgba(0,0,0,0.4), -8px -8px 16px rgba(255,255,255,0.02)":"8px 8px 16px rgba(0,0,0,0.08), -8px -8px 16px rgba(255,255,255,0.8)"},whileHover:{scale:1.02,transition:{duration:.3}},children:[e.jsx(u.div,{className:`absolute inset-0 bg-gradient-to-r ${A[T].accent} opacity-5`,animate:{backgroundPosition:["0% 0%","100% 100%","0% 0%"]},transition:{duration:8,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"}}),e.jsxs(u.p,{className:`text-sm ${T==="night"?"text-gray-300":"text-gray-600"} relative z-10`,initial:{opacity:.8},whileHover:{opacity:1},children:["¬© ",new Date().getFullYear()," B&D Evidencija. Sva prava zadr≈æana.",e.jsx(u.span,{className:"inline-block ml-2",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"‚ú®"})]})]})})]})})]}),e.jsx(Ua,{isOpen:t,onClose:()=>r(!1),onChangePassword:U,loading:!1})]})}const ls=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"}));function sr(t,r,s=[]){return i.useMemo(()=>{const a=new Date(t,r,1),o=new Date(t,r+1,0);return zr({start:a,end:o}).filter(c=>!Ar(c)&&!(s||[]).includes(ze(c,"yyyy-MM-dd")))},[t,r,s])}function or(t={}){return et({queryKey:le.drivers.all,queryFn:async()=>{const{data:r,error:s}=await ae.from("drivers").select("*").order("tura",{ascending:!0});if(s)throw s;return r||[]},staleTime:30*60*1e3,...t})}function qa(t,r,s={}){return et({queryKey:le.deliveries.byMonth(t,r),queryFn:()=>Er(t,r),staleTime:3*60*1e3,enabled:t!==void 0&&r!==void 0,...s})}function Va(t,r,s,a={}){return et({queryKey:le.deliveries.byDriver(t,r,s),queryFn:async()=>{const o=new Date(r,s,1),d=new Date(r,s+1,0),c=o.toISOString().split("T")[0],n=d.toISOString().split("T")[0],{data:l,error:j}=await ae.from("deliveries").select("*").eq("driver",t).gte("date",c).lte("date",n).order("date",{ascending:!0});if(j)throw j;return l||[]},enabled:!!t&&r!==void 0&&s!==void 0,staleTime:3*60*1e3,...a})}function nr(t,r={}){return et({queryKey:le.holidays.byYear(t),queryFn:()=>Mr(t),staleTime:30*60*1e3,enabled:t!==void 0,...r})}const Ga=new Date().getFullYear(),Ya=["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"];function Ka(){const t=He(),[r,s]=i.useState(Ga),[a,o]=i.useState(new Date().getMonth()),[d,c]=i.useState(new Date),[n,l]=i.useState("night"),j={default:{background:"from-blue-50 via-white to-purple-50"},sunrise:{background:"from-orange-100 via-pink-100 to-yellow-100"},afternoon:{background:"from-blue-100 via-cyan-100 to-sky-100"},evening:{background:"from-purple-100 via-pink-100 to-indigo-100"},night:{background:"from-slate-900 via-blue-900 to-indigo-900"}};i.useEffect(()=>{l("night")},[]),i.useEffect(()=>{const h=setInterval(()=>c(new Date),6e4);return()=>clearInterval(h)},[]);const{data:S=[],isLoading:P}=or(),{data:F=[],isLoading:$}=qa(r,a),{data:w=[]}=nr(r),k=$||P,_=i.useMemo(()=>{const h={};return F.forEach(D=>{h[D.date]||(h[D.date]={}),h[D.date][D.driver]=D.produktivitaet_stops||0}),h},[F]),H=sr(r,a,w.map(h=>h.date)),x=i.useMemo(()=>{const h=H.length,D=new Set;F.forEach(O=>{O.produktivitaet_stops>0&&D.add(O.date)});const m=D.size,E=new Date,J=E.getFullYear(),U=E.getMonth();let A=0;if(r===J&&a===U){const O=E.getDate();A=H.filter(b=>new Date(b).getDate()<=O).length}else r<J||r===J&&a<U?A=h:A=0;const G=F.reduce((O,b)=>O+(b.produktivitaet_stops||0),0),V=S.filter(O=>O.aktivan).reduce((O,b)=>O+(b.target_per_day||0)*h,0),ee=S.filter(O=>O.aktivan).reduce((O,b)=>O+(b.target_per_day||0)*m,0),X=G-V;return{totalWorkdays:h,passedWorkdays:A,drivers:S.filter(O=>O.aktivan).length,remainingDays:Math.max(0,h-m),totalStops:G,monthlyTarget:V,targetForWorkedDays:ee,difference:X}},[H,F,S,r,a]),K=()=>`bg-gradient-to-br ${j[n].background}`,T=()=>{a===0?(o(11),s(r-1)):o(a-1)},W=()=>{a===11?(o(0),s(r+1)):o(a+1)};return e.jsxs("div",{className:`min-h-screen ${K()} ${n==="night"?"text-white":"text-gray-800"}`,children:[e.jsx(u.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${n==="night"?"bg-gray-800/40 border-gray-700/50":"bg-white/60 border-gray-200/50"} backdrop-blur-xl border-b sticky top-0 z-50`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-3 md:py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/"),className:`p-2 rounded-xl ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-300":"bg-gray-100/50 hover:bg-gray-200/50 text-gray-600"} transition-all duration-200`,children:e.jsx(ut,{className:"w-6 h-6"})}),e.jsx("h1",{className:`text-2xl md:text-3xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:"Pregled Dostava"})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 md:py-8",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:`mb-6 p-4 md:p-6 rounded-2xl ${n==="night"?"bg-gray-800/40 border-gray-700/50":"bg-white/60 border-gray-200/30"} border backdrop-blur-xl`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:T,className:`p-2 rounded-lg ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-100/50 hover:bg-gray-200/50"} transition-all`,children:e.jsx(Je,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-center",children:e.jsxs("h2",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:[Ya[a]," ",r]})}),e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:`p-2 rounded-lg ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-100/50 hover:bg-gray-200/50"} transition-all`,children:e.jsx(Xe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Re,{className:`w-5 h-5 ${n==="night"?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Radnih dana"})]}),e.jsxs("p",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:[x.passedWorkdays,"/",x.totalWorkdays]})]}),e.jsxs("div",{className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ke,{className:`w-5 h-5 ${n==="night"?"text-green-400":"text-green-600"}`}),e.jsx("span",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Vozaƒça"})]}),e.jsx("p",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:x.drivers})]}),e.jsxs("div",{className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Qe,{className:`w-5 h-5 ${n==="night"?"text-purple-400":"text-purple-600"}`}),e.jsx("span",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Ukupno"})]}),e.jsx("p",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:x.totalStops})]}),e.jsxs("div",{className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.difference>=0?e.jsx(Ze,{className:"w-5 h-5",style:{color:n==="night"?"#4ade80":"#15803d"}}):e.jsx(Rt,{className:"w-5 h-5",style:{color:n==="night"?"#fb7185":"#dc2626"}}),e.jsx("span",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Bilans"})]}),e.jsxs("p",{className:"text-2xl font-black",style:{color:x.difference>=0?n==="night"?"#4ade80":"#15803d":n==="night"?"#fb7185":"#dc2626",textShadow:n==="night"?"0 0 3px rgba(0,0,0,0.3)":"none"},children:[x.difference>0?"+":"",x.difference]})]})]})]}),k?e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:`p-8 rounded-2xl ${n==="night"?"bg-gray-800/40":"bg-white/60"} backdrop-blur-xl text-center`,children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:n==="night"?"text-gray-400":"text-gray-600",children:"Uƒçitavanje..."})]}):H.length===0?e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:`p-8 rounded-2xl ${n==="night"?"bg-gray-800/40":"bg-white/60"} backdrop-blur-xl text-center`,children:[e.jsx(gt,{className:`w-16 h-16 mx-auto mb-4 ${n==="night"?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:n==="night"?"text-gray-400":"text-gray-600",children:"Nema radnih dana"})]}):e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`rounded-2xl ${n==="night"?"bg-gray-800/40 border-gray-700/50":"bg-white/70 border-gray-200/30"} border backdrop-blur-xl overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-fixed",style:{fontSize:"0.8rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{className:`${n==="night"?"bg-gray-700/50":"bg-gray-100/80"}`,children:[e.jsx("th",{className:"px-1 py-2 text-left text-xs font-bold w-16",style:{color:n==="night"?"#fff":"#1f2937"},children:"Datum"}),S.filter(h=>h.aktivan).map(h=>e.jsxs("th",{className:"px-1 py-2 text-center text-xs font-bold",style:{color:n==="night"?"#fff":"#1f2937"},children:[e.jsx("div",{className:"font-semibold",children:h.ime}),e.jsx("div",{className:"text-[10px] opacity-70",children:h.tura})]},h.tura)),e.jsx("th",{className:"px-1 py-2 text-center text-xs font-bold w-16",style:{color:n==="night"?"#fff":"#1f2937"},children:"Ukupno"})]})}),e.jsx("tbody",{children:Object.keys(_).sort((h,D)=>new Date(h)-new Date(D)).map((h,D)=>{const m=_[h]||{},E=S.filter(U=>U.aktivan).reduce((U,A)=>U+(m[A.tura]||0),0),J=w.some(U=>U.date===h);return e.jsxs(u.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:D*.02},className:`border-t ${n==="night"?"border-gray-700/50":"border-gray-200/50"} ${J?n==="night"?"bg-red-900/20":"bg-red-50/70":""}`,children:[e.jsx("td",{className:"px-1 py-1.5 text-xs font-bold",style:{color:n==="night"?"#e5e7eb":"#374151"},children:ze(new Date(h),"dd.MM.")}),S.filter(U=>U.aktivan).map(U=>{const A=m[U.tura],G=U.target_per_day||0,V=A>=G,ee=n==="night"?"#4ade80":"#15803d",X=n==="night"?"#fb7185":"#dc2626";return e.jsx("td",{className:"px-1 py-1.5 text-center text-xs font-extrabold",style:{color:A?V?ee:X:"#9ca3af",fontWeight:"900",textShadow:A&&n==="night"?"0 0 2px rgba(0,0,0,0.5)":"none"},children:A||"‚Äì"},U.tura)}),e.jsx("td",{className:"px-1 py-1.5 text-center text-xs font-extrabold",style:{color:E>=300?n==="night"?"#4ade80":"#15803d":E>0?n==="night"?"#fb7185":"#dc2626":"#9ca3af",fontWeight:"900",textShadow:E>0&&n==="night"?"0 0 2px rgba(0,0,0,0.5)":"none"},children:E||"‚Äì"})]},h)})}),e.jsx("tfoot",{children:e.jsxs("tr",{className:`border-t-2 ${n==="night"?"border-gray-600 bg-gray-700/70":"border-gray-400 bg-gray-200/80"}`,children:[e.jsx("td",{className:"px-1 py-2 text-xs font-extrabold",style:{color:n==="night"?"#fff":"#1f2937"},children:"Ukupno"}),S.filter(h=>h.aktivan).map(h=>{const D=H.filter(O=>{const b=ze(O,"yyyy-MM-dd");return(_[b]||{})[h.tura]>0}),m=D.reduce((O,b)=>{const se=ze(b,"yyyy-MM-dd"),f=_[se]||{};return O+(f[h.tura]||0)},0),E=D.length,J=(h.target_per_day||0)*E,U=(h.target_per_day||0)*H.length,A=m-U,G=n==="night"?"#4ade80":"#15803d",V=n==="night"?"#fb7185":"#dc2626",ee=m>=J?G:V,X=A>=0?G:V;return e.jsxs("td",{className:"px-1 py-2 text-center",children:[e.jsx("div",{className:"text-xs font-extrabold",style:{color:ee,textShadow:n==="night"?"0 0 2px rgba(0,0,0,0.5)":"none"},children:m}),e.jsxs("div",{className:"text-[10px] font-black",style:{color:X,textShadow:n==="night"?"0 0 2px rgba(0,0,0,0.5)":"none"},children:["(",A>0?"+":"",A,")"]})]},h.tura)}),e.jsxs("td",{className:"px-1 py-2 text-center",children:[e.jsx("div",{className:"text-xs font-extrabold",style:{color:x.totalStops>=x.targetForWorkedDays?n==="night"?"#4ade80":"#15803d":n==="night"?"#fb7185":"#dc2626",textShadow:n==="night"?"0 0 2px rgba(0,0,0,0.5)":"none"},children:x.totalStops}),e.jsxs("div",{className:"text-[10px] font-black",style:{color:x.difference>=0?n==="night"?"#4ade80":"#15803d":n==="night"?"#fb7185":"#dc2626",textShadow:n==="night"?"0 0 2px rgba(0,0,0,0.5)":"none"},children:["(",x.difference>0?"+":"",x.difference,")"]})]})]})})]})})})]})]})}const cs=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"}));function Ja({syncStatus:t}){const r=(t==null?void 0:t.unsyncedCount)===0;if(!t)return null;const s=r?"100%":"30%",a=r?"#4caf50":"#f44336";return e.jsx("div",{style:{width:"100%",height:6,backgroundColor:"#e0e0e0",borderRadius:3,overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",borderRadius:3,width:s,backgroundColor:a,transition:"width 1s, background-color 1s"}})})}const Xa=new Date().getFullYear(),Mt=["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"];function Qa(){var se;const t=He(),[r,s]=i.useState(Xa),[a,o]=i.useState(new Date().getMonth()),[d,c]=i.useState(0),[n,l]=i.useState("night"),[j,S]=i.useState(new Date),P={default:{background:"from-blue-50 via-white to-purple-50"},sunrise:{background:"from-orange-100 via-pink-100 to-yellow-100"},afternoon:{background:"from-blue-100 via-cyan-100 to-sky-100"},evening:{background:"from-purple-100 via-pink-100 to-indigo-100"},night:{background:"from-slate-900 via-blue-900 to-indigo-900"}},F=()=>`bg-gradient-to-br ${(P[n]||P.night).background}`;i.useEffect(()=>{l("night")},[]),i.useEffect(()=>{const f=setInterval(()=>S(new Date),6e4);return()=>clearInterval(f)},[]);const[$,w]=i.useState(!0);i.useEffect(()=>{const f=setInterval(()=>{w(g=>!g)},400);return()=>clearInterval(f)},[]);const{driverName:k}=Or(),{data:_=[],isLoading:H}=or(),{data:x=[]}=nr(r),K=()=>{a===0?(o(11),s(r-1)):o(a-1)},T=()=>{a===11?(o(0),s(r+1)):o(a+1)},W=()=>{c(f=>f===0?_.length-1:f-1)},h=()=>{c(f=>f===_.length-1?0:f+1)};i.useEffect(()=>{if(_.length>0){const f=k?_.findIndex(g=>g.ime===k):_.findIndex(g=>g.aktivan);f>=0&&c(f)}},[_,k]);const D=((se=_[d])==null?void 0:se.ime)||"",m=_[d],{data:E=[],isLoading:J}=Va(m==null?void 0:m.tura,r,a,{enabled:!!m}),U=J||H,A=sr(r,a,x.map(f=>f.date)),G=i.useMemo(()=>{if(!E.length)return[];const f=p=>{if(!p)return 0;const N=p.toString().replace("%","").replace(",",".").trim();return parseFloat(N)||0},g={};return E.forEach(p=>{const N=new Date(p.date),M=N.getMonth();if(N.getFullYear()!==r||M!==a)return;const C=p.date;g[C]||(g[C]={date:C,stops:0,packages:0,pickupPackages:0,complaints:0,totalTime:0,realPercentage:f(p.zustellung_proc),undelivered:parseInt(p.zustellung_nedostavljeno)||0,pickupPercentage:f(p.pickup_proc),pickupUndelivered:parseInt(p.pickup_nedostavljeno)||0,firstComplaints:parseInt(p.probleme_prva)||0,secondComplaints:parseInt(p.probleme_druga)||0,stopsPerHourRaw:p.produktivitaet_stops_pro_std||"0"}),g[C].stops+=p.produktivitaet_stops||0,g[C].packages+=p.zustellung_paketi||0,g[C].pickupPackages+=parseInt(p.pickup_paketi)||0,g[C].complaints+=parseInt(p.probleme_druga)||0;const L=(p.produktivitaet_dauer||"0:00").split(":"),B=(parseInt(L[0])||0)*60+(parseInt(L[1])||0);g[C].totalTime+=B}),Object.values(g).map(p=>{const N=p.realPercentage>0?p.realPercentage:p.stops>0?p.packages/p.stops*100:0;return{...p,percentage:N,stopsPerHour:p.totalTime>0?p.stops/(p.totalTime/60):0}}).sort((p,N)=>new Date(p.date)-new Date(N.date))},[E,r,a]),V=i.useMemo(()=>{const f=A.length,g=G.filter(ce=>ce.stops>0).length,p=G.reduce((ce,be)=>ce+be.stops,0),N=G.reduce((ce,be)=>ce+be.packages,0),M=g>0?p/g:0,Y=g>0?N/g:0,C=new Date,z=C.getFullYear(),L=C.getMonth();let B=0;if(r===z&&a===L){const ce=C.getDate();B=A.filter(be=>new Date(be).getDate()<=ce).length}else r<z||r===z&&a<L?B=f:B=0;const oe=((m==null?void 0:m.target_per_day)||0)*f,ne=p-oe;return{totalWorkdays:f,passedWorkdays:B,daysWithData:g,avgPackagesPerDay:Math.round(Y),avgStopsPerDay:Math.round(M),totalStops:p,totalPackages:N,difference:ne}},[A,G,m,r,a]),ee=f=>f.toLocaleTimeString("bs-BA",{hour:"2-digit",minute:"2-digit",hour12:!1}),X=f=>f.toLocaleDateString("bs-BA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O=n==="night"?"#4ade80":"#15803d",b=n==="night"?"#fb7185":"#dc2626";return e.jsxs("div",{className:`min-h-screen ${F()} ${n==="night"?"text-white":"text-gray-800"}`,children:[e.jsx(Ja,{}),e.jsx(u.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${n==="night"?"bg-gray-800/40 border-gray-700/50":"bg-white/60 border-gray-200/50"} backdrop-blur-xl border-b sticky top-0 z-50`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-3 md:py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/"),className:`p-2 rounded-xl ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-300":"bg-gray-100/50 hover:bg-gray-200/50 text-gray-600"} transition-all duration-200`,children:e.jsx(ut,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:`w-8 h-8 ${n==="night"?"text-blue-400":"text-blue-600"}`}),e.jsx("h1",{className:`text-2xl md:text-3xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:"Vozaƒçi Statistike"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 md:py-8",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:`mb-6 p-4 md:p-6 rounded-2xl ${n==="night"?"bg-gray-800/40 border-gray-700/50":"bg-white/60 border-gray-200/30"} border backdrop-blur-xl`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,className:`p-2 rounded-lg ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-100/50 hover:bg-gray-200/50"} transition-all`,children:e.jsx(Je,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:[Mt[a]," ",r]}),e.jsxs("p",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"} mt-1`,children:[ee(j)," ‚Ä¢ ",X(j)]})]}),e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:T,className:`p-2 rounded-lg ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-100/50 hover:bg-gray-200/50"} transition-all`,children:e.jsx(Xe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 mb-6",children:[e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:`p-2 rounded-lg ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-100/50 hover:bg-gray-200/50"} transition-all`,children:e.jsx(Je,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`text-xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:D||"Nema vozaƒça"}),e.jsx("p",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"} mt-1`,children:_.length>0?`${d+1} / ${_.length}`:"0 / 0"})]}),e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,className:`p-2 rounded-lg ${n==="night"?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-100/50 hover:bg-gray-200/50"} transition-all`,children:e.jsx(Xe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"} backdrop-blur-sm flex items-center gap-3`,children:[e.jsx(Re,{className:`w-6 h-6 ${n==="night"?"text-blue-400":"text-blue-600"}`}),e.jsxs("div",{children:[e.jsxs("div",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:[V.passedWorkdays,"/",V.totalWorkdays]}),e.jsx("div",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Radni dani"})]})]}),e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"} backdrop-blur-sm flex items-center gap-3`,children:[e.jsx(Ke,{className:`w-6 h-6 ${n==="night"?"text-green-400":"text-green-600"}`}),e.jsxs("div",{children:[e.jsx("div",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:D||"‚Äî"}),e.jsx("div",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Vozaƒç"})]})]}),e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"} backdrop-blur-sm flex items-center gap-3`,children:[e.jsx(Ft,{className:`w-6 h-6 ${n==="night"?"text-purple-400":"text-purple-600"}`}),e.jsxs("div",{children:[e.jsx("div",{className:`text-2xl font-bold ${n==="night"?"text-white":"text-gray-800"}`,children:V.totalStops}),e.jsx("div",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Ukupno stopova"})]})]}),e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5},className:`p-4 rounded-xl ${n==="night"?"bg-gray-700/30":"bg-gray-50/50"} backdrop-blur-sm flex items-center gap-3`,children:[e.jsx(Ze,{className:`w-6 h-6 ${V.difference>=0?n==="night"?"text-green-400":"text-green-600":n==="night"?"text-red-400":"text-red-600"}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold",style:{color:V.difference>=0?O:b},children:[V.difference>0?"+":"",V.difference]}),e.jsx("div",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Bilans"})]})]})]})]}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:`rounded-2xl overflow-hidden ${n==="night"?"bg-gray-800/40 border-gray-700/50":"bg-white/60 border-gray-200/30"} border backdrop-blur-xl`,children:U?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:`w-8 h-8 border-2 rounded-full animate-spin ${n==="night"?"border-gray-600 border-t-white":"border-gray-300 border-t-blue-600"}`}),e.jsx("p",{className:`text-sm mt-4 ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Uƒçitavanje..."})]}):G.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Qe,{className:`w-12 h-12 mb-4 ${n==="night"?"text-gray-600":"text-gray-400"}`}),e.jsxs("p",{className:`text-lg font-medium mb-2 ${n==="night"?"text-white":"text-gray-900"}`,children:["Nema podataka za ",Mt[a]," ",r]}),e.jsx("p",{className:`text-sm ${n==="night"?"text-gray-400":"text-gray-600"}`,children:"Odaberite vozaƒça iz liste da vidite statistiku"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-full",children:[e.jsx("thead",{className:`${n==="night"?"bg-gray-700/50 text-gray-300":"bg-gray-50 text-gray-700"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Datum"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Stopovi"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Paketi"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Pickup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Reklamacije"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Vreme (h)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Efikasnost"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Stop/h"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[G.map((f,g)=>{const p=new Date(f.date),N=(m==null?void 0:m.target_per_day)||0,M=f.stops>=N;return e.jsxs(u.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+g*.05},className:`transition-colors ${n==="night"?"hover:bg-gray-700/30":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap font-medium",children:ze(p,"dd.MM.")}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",style:{color:M?O:b,fontWeight:"700"},children:f.stops||"‚Äì"}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:f.packages||"‚Äì"}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:f.pickupPackages||"‚Äì"}),e.jsxs("td",{className:"px-4 py-3 text-sm whitespace-nowrap",style:f.secondComplaints>0?{backgroundColor:$?"#ffffff":"#f44336",color:$?"#f44336":"#ffffff",fontWeight:"900",textAlign:"center",transition:"all 0.3s",outline:$?"2px solid #f44336":"none",outlineOffset:"-2px",borderRadius:"4px"}:{},children:[f.secondComplaints>0&&e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(nt,{className:"w-4 h-4"}),f.secondComplaints]}),f.secondComplaints===0&&"‚Äì"]}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:f.totalTime?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(At,{className:"w-4 h-4"}),`${(f.totalTime/60).toFixed(1)}h`]}):"‚Äì"}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",style:{color:f.percentage>=98?O:b,fontWeight:"600"},children:f.percentage?`${f.percentage.toFixed(1)}%`:"‚Äì"}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:f.stopsPerHour?f.stopsPerHour.toFixed(1):"‚Äì"})]},g)}),e.jsxs(u.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:`${n==="night"?"bg-gray-700/70 font-bold":"bg-gray-50 font-bold"}`,children:[e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:e.jsx("strong",{children:"Ukupno"})}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",style:{color:V.difference>=0?O:b,fontWeight:"900"},children:e.jsxs("strong",{children:[V.totalStops," (",V.difference>0?"+":"",V.difference,")"]})}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:e.jsx("strong",{children:V.totalPackages})}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:e.jsx("strong",{children:G.reduce((f,g)=>f+(g.pickupPackages||0),0)})}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",style:G.reduce((g,p)=>g+(p.secondComplaints||0),0)>0?{backgroundColor:$?"#ffffff":"#f44336",color:$?"#f44336":"#ffffff",fontWeight:"900",transition:"all 0.3s",borderRadius:"4px",outline:$?"2px solid #f44336":"none",textAlign:"center"}:{color:O,fontWeight:"700"},children:e.jsx("strong",{children:(()=>{const f=G.reduce((g,p)=>g+(p.secondComplaints||0),0);return f>0?e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(nt,{className:"w-4 h-4"}),f]}):f})()})}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:e.jsx("strong",{children:(()=>{const f=G.reduce((g,p)=>g+(p.totalTime||0),0);return f?`${(f/60).toFixed(1)}h`:"‚Äì"})()})}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:e.jsx("strong",{children:(()=>{const f=G.filter(p=>p.percentage&&p.percentage>0),g=f.length>0?f.reduce((p,N)=>p+N.percentage,0)/f.length:0;return g>0?`${g.toFixed(1)}%`:"‚Äì"})()})}),e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:e.jsx("strong",{children:(()=>{const f=G.filter(p=>p.stopsPerHour&&p.stopsPerHour>0),g=f.length>0?(f.reduce((p,N)=>p+N.stopsPerHour,0)/f.length).toFixed(1):"‚Äì";return g!=="NaN"?g:"‚Äì"})()})})]})]})]})})})]})]})}const ds=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"})),zt=["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],Ye=t=>{if(!t)return"";const r=new Date(t),s=r.getDate().toString().padStart(2,"0"),a=(r.getMonth()+1).toString().padStart(2,"0"),o=r.getFullYear();return`${s}.${a}.${o}`},Za=()=>{var J,U,A,G,V,ee,X,O,b,se,f,g,p,N,M,Y,C,z,L,B,Z,oe,ne,ce,be,tt,ht,xt,ft,bt,yt,vt;const t=He(),{currentUser:r}=Wt(),[s,a]=i.useState("night"),[o,d]=i.useState(null),[c,n]=i.useState([]),[l,j]=i.useState([]),[S,P]=i.useState(!0),[F,$]=i.useState(!1),[w,k]=i.useState(null),_=i.useMemo(()=>zt[new Date().getMonth()],[]),H=i.useMemo(()=>new Date().getFullYear(),[]);i.useEffect(()=>{a("night")},[]);const x=s==="night",K=i.useCallback(I=>I==="8610"?50:I==="8620"||I==="8630"?85:I==="8640"?80:50,[]);i.useEffect(()=>{(async()=>{try{const{data:Q,error:re}=await ae.from("drivers").select("*").eq("aktivan",!0).order("ime",{ascending:!0});if(re)throw re;if(n(Q||[]),r&&(r.name||r.ime)&&Q&&Q.length>0){const ke=r.name||r.ime,de=Q.find(ie=>ie.ime===ke);if(de)d(de);else{const ie=Q.find(rt=>rt.tura===(r.username||r.tura));d(ie||Q[0])}}else Q&&Q.length>0&&d(Q[0])}catch(Q){k(Q.message)}finally{P(!1)}})()},[r]);const T=i.useCallback(async I=>{var Q;if(!(!I||!I.tura)){$(!0);try{const re=new Date,ke=new Date().toISOString().slice(0,10),de=new Date(re.getFullYear(),re.getMonth(),1).toISOString().slice(0,10),ie=new Date(re.getFullYear(),re.getMonth()+1,0).toISOString().slice(0,10),rt=new Date(re.getFullYear(),0,1).toISOString().slice(0,10),ir=new Date(re.getFullYear(),11,31).toISOString().slice(0,10),{data:Pe}=await ae.from("deliveries").select("*").eq("driver",I.tura).eq("deleted",0).order("date",{ascending:!1}).limit(1),We=(Q=Pe==null?void 0:Pe[0])!=null&&Q.date&&typeof Pe[0].date=="string"?Pe[0].date.slice(0,10):ke,[lr,cr,dr]=await Promise.all([ae.from("deliveries").select("*").eq("driver",I.tura).gte("date",`${We}T00:00:00`).lte("date",`${We}T23:59:59`).eq("deleted",0),ae.from("deliveries").select("*").eq("driver",I.tura).gte("date",de).lte("date",ie).eq("deleted",0),ae.from("deliveries").select("*").eq("driver",I.tura).gte("date",rt).lte("date",ir).eq("deleted",0)]),Le=K(I.tura),at=($e,Ce)=>{if(!$e||$e.length===0)return{packages:0,diff:Ce==="day"?-Le:0,complaints:0,date:Ce==="day"?We:null};let ye=$e;if(Ce==="month"){const q=new Date,ge=q.getFullYear(),mr=q.getMonth();ye=$e.filter(xe=>{if(!(xe!=null&&xe.date))return!1;const hr=typeof xe.date=="string"?xe.date.slice(0,10):xe.date,jt=new Date(hr),Te=xe.zustellung_paketi,xr=Te!=null&&Te!==""&&!isNaN(Number(Te))&&Number(Te)>0;return jt.getFullYear()===ge&&jt.getMonth()===mr&&xe.driver==I.tura&&xe.deleted==0&&xr})}else Ce==="year"?ye=$e.filter(q=>parseInt((q==null?void 0:q.produktivitaet_stops)||0,10)>0):Ce==="day"&&(ye=$e.filter(q=>parseInt((q==null?void 0:q.produktivitaet_stops)||0,10)>0));const Ue=ye.reduce((q,ge)=>q+(parseInt((ge==null?void 0:ge.produktivitaet_stops)||0,10)||0),0),wt=ye.reduce((q,ge)=>q+(parseInt((ge==null?void 0:ge.probleme_druga)||0,10)||0),0),ur=(new Set(ye.map(q=>q!=null&&q.date?typeof q.date=="string"?q.date.slice(0,10):new Date(q.date).toISOString().slice(0,10):null).filter(Boolean)).size||0)*Le,pr=ye.length>0?ye.map(q=>q!=null&&q.date?typeof q.date=="string"?q.date.slice(0,10):new Date(q.date).toISOString().slice(0,10):null).filter(Boolean).sort((q,ge)=>new Date(ge)-new Date(q))[0]:null;return Ce==="day"?{packages:Ue,diff:Ue-Le,complaints:wt,date:We}:{packages:Ue,diff:Ue-ur,complaints:wt,date:pr}},me=at(lr.data,"day"),Ne=at(cr.data,"month"),Se=at(dr.data,"year"),gr=[{label:`Dostava (${me.date||""})`,value:me.diff,packages:me.packages,complaints:me.complaints,target:Le,date:me.date,dataDate:me.date},{label:`Reklamacije (${me.date||""})`,value:me.complaints,date:me.date,dataDate:me.date},{label:`Dostava za ${_}`,value:Ne.diff,packages:Ne.packages,complaints:Ne.complaints,dataDate:Ne.date},{label:`Reklamacije za ${_}`,value:Ne.complaints,dataDate:Ne.date},{label:`Dostava za ${H}`,value:Se.diff,packages:Se.packages,complaints:Se.complaints,dataDate:Se.date},{label:`Reklamacije za ${H}`,value:Se.complaints,dataDate:Se.date}];j(gr)}catch(re){k(re.message),j([])}finally{$(!1)}}},[K,_,H]);i.useEffect(()=>{o&&T(o)},[o,T]);const W=[{title:(J=l[0])!=null&&J.date?Ye(l[0].date):"Danas",period:(U=l[0])!=null&&U.dataDate?`Podaci: ${Ye(l[0].dataDate)}`:((A=l[0])==null?void 0:A.label)||"Danas",delivery:{value:((G=l[0])==null?void 0:G.packages)||0,diff:((V=l[0])==null?void 0:V.value)||0,target:((ee=l[0])==null?void 0:ee.target)||0,trend:(((X=l[0])==null?void 0:X.value)||0)>0?"up":(((O=l[0])==null?void 0:O.value)||0)<0?"down":"neutral"},complaints:{value:((b=l[1])==null?void 0:b.value)||0,trend:(((se=l[1])==null?void 0:se.value)||0)===0?"good":"bad"},icon:Re},{title:(f=l[2])!=null&&f.dataDate?zt[new Date(l[2].dataDate).getMonth()]:"Ovaj mjesec",period:(g=l[2])!=null&&g.dataDate?`Podaci do: ${Ye(l[2].dataDate)}`:((p=l[2])==null?void 0:p.label)||"Ovaj mjesec",delivery:{value:((N=l[2])==null?void 0:N.packages)||0,diff:((M=l[2])==null?void 0:M.value)||0,target:(((Y=l[2])==null?void 0:Y.packages)||0)-(((C=l[2])==null?void 0:C.value)||0),trend:(((z=l[2])==null?void 0:z.value)||0)>0?"up":(((L=l[2])==null?void 0:L.value)||0)<0?"down":"neutral"},complaints:{value:((B=l[3])==null?void 0:B.value)||0,trend:(((Z=l[3])==null?void 0:Z.value)||0)===0?"good":"bad"},icon:Ir},{title:(oe=l[4])!=null&&oe.dataDate?new Date(l[4].dataDate).getFullYear():"Ova godina",period:(ne=l[4])!=null&&ne.dataDate?`Podaci do: ${Ye(l[4].dataDate)}`:((ce=l[4])==null?void 0:ce.label)||"Ova godina",delivery:{value:((be=l[4])==null?void 0:be.packages)||0,diff:((tt=l[4])==null?void 0:tt.value)||0,target:(((ht=l[4])==null?void 0:ht.packages)||0)-(((xt=l[4])==null?void 0:xt.value)||0),trend:(((ft=l[4])==null?void 0:ft.value)||0)>0?"up":(((bt=l[4])==null?void 0:bt.value)||0)<0?"down":"neutral"},complaints:{value:((yt=l[5])==null?void 0:yt.value)||0,trend:(((vt=l[5])==null?void 0:vt.value)||0)===0?"good":"bad"},icon:Dr}],h=I=>I==="up"?Ze:I==="down"?Rt:I==="good"?Nt:I==="bad"?Pr:Qe,D=(I,Q=!1)=>{if(Q){if(I==="good")return x?"text-green-400":"text-green-600";if(I==="bad")return x?"text-red-400":"text-red-600"}else{if(I==="up")return x?"text-green-400":"text-green-600";if(I==="down")return x?"text-red-400":"text-red-600"}return x?"text-gray-400":"text-gray-600"},m=()=>{if(!o||c.length===0)return;const I=c.findIndex(re=>re.id===o.id),Q=I===0?c.length-1:I-1;d(c[Q])},E=()=>{if(!o||c.length===0)return;const I=c.findIndex(re=>re.id===o.id),Q=I===c.length-1?0:I+1;d(c[Q])};return e.jsx("div",{className:`min-h-screen p-4 sm:p-6 lg:p-8 ${x?"bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900":"bg-gradient-to-br from-blue-50 via-white to-indigo-50"}`,children:e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:`mb-6 sm:mb-8 p-4 sm:p-6 rounded-2xl ${x?"bg-gray-800/50":"bg-white/80"} backdrop-blur-xl border ${x?"border-gray-700":"border-white/20"} shadow-xl`,children:[e.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u.button,{onClick:()=>t("/"),whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-2 rounded-xl ${x?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-300":"bg-gray-100/50 hover:bg-gray-200/50 text-gray-600"} transition-all duration-200`,children:e.jsx(ut,{className:"w-6 h-6"})}),e.jsx(u.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"p-3 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600",children:e.jsx(Oe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl sm:text-3xl font-bold ${x?"text-white":"text-gray-800"}`,children:"Statistika"}),e.jsx("p",{className:`text-sm ${x?"text-gray-400":"text-gray-600"}`,children:"Pregled performansi vozaƒça"})]})]})}),o&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:`mt-4 pt-4 border-t ${x?"border-gray-700":"border-gray-200"}`,children:e.jsx("div",{className:"w-full flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u.button,{onClick:m,whileHover:{scale:1.1,x:-3,backgroundColor:x?"#374151":"#e5e7eb"},whileTap:{scale:.9,x:-5},animate:{x:[0,-2,0]},transition:{x:{duration:2,repeat:1/0,ease:"easeInOut"},scale:{duration:.2},backgroundColor:{duration:.3}},className:`p-3 rounded-lg ${x?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 shadow-lg shadow-blue-500/20":"bg-gray-100/50 hover:bg-gray-200/50 text-gray-600 shadow-lg shadow-blue-500/10"} transition-all duration-200 border-2 border-transparent hover:border-blue-400/30`,children:e.jsx(Je,{className:"w-5 h-5"})}),e.jsxs(u.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:300,damping:20,duration:.4},className:"flex flex-wrap gap-4 items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_r,{className:`w-5 h-5 ${x?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`text-lg font-bold ${x?"text-white":"text-gray-900"}`,children:o.ime})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:`w-4 h-4 ${x?"text-gray-400":"text-gray-600"}`}),e.jsxs("span",{className:`text-sm ${x?"text-gray-400":"text-gray-600"}`,children:["Tura ",o.tura]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:`w-4 h-4 ${x?"text-gray-400":"text-gray-600"}`}),e.jsxs("span",{className:`text-sm ${x?"text-gray-400":"text-gray-600"}`,children:["Cilj: ",K(o.tura)," stopova/dan"]})]})]},o==null?void 0:o.id),e.jsx(u.button,{onClick:E,whileHover:{scale:1.1,x:3,backgroundColor:x?"#374151":"#e5e7eb"},whileTap:{scale:.9,x:5},animate:{x:[0,2,0]},transition:{x:{duration:2,repeat:1/0,ease:"easeInOut"},scale:{duration:.2},backgroundColor:{duration:.3}},className:`p-3 rounded-lg ${x?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 shadow-lg shadow-blue-500/20":"bg-gray-100/50 hover:bg-gray-200/50 text-gray-600 shadow-lg shadow-blue-500/10"} transition-all duration-200 border-2 border-transparent hover:border-blue-400/30`,children:e.jsx(Xe,{className:"w-5 h-5"})})]})})})]}),w&&e.jsx(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`mb-6 p-4 rounded-xl ${x?"bg-red-900/30 border-red-700/50":"bg-red-50 border-red-200/50"} border`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(gt,{className:`w-5 h-5 ${x?"text-red-400":"text-red-600"}`}),e.jsxs("p",{className:`text-sm font-medium ${x?"text-red-400":"text-red-600"}`,children:["Gre≈°ka pri uƒçitavanju podataka: ",w]})]})}),S||F?e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[e.jsx(u.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 mb-4 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:e.jsx(Qe,{className:"w-8 h-8 text-white"})}),e.jsx("span",{className:`text-lg ${x?"text-gray-300":"text-gray-600"}`,children:e.jsxs(u.div,{className:"flex items-center gap-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsx(u.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:`w-6 h-6 rounded-full border-2 border-t-transparent ${x?"border-blue-400":"border-blue-600"}`}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(u.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Uƒçitavanje statistike..."}),e.jsx(u.div,{className:`h-2 mt-2 bg-gradient-to-r ${x?"from-blue-600 via-blue-400 to-blue-600":"from-blue-500 via-blue-300 to-blue-500"} rounded-full`,animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:2,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"}})]})]})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:e.jsx(dt,{children:W.map((I,Q)=>{const re=I.icon,ke=h(I.delivery.trend);h(I.complaints.trend);const de=I.complaints.value>0,ie=I.delivery.target>0?I.delivery.value/I.delivery.target*100:0;return e.jsxs(u.div,{initial:{opacity:0,y:30,scale:.8,rotateX:-15},animate:{opacity:1,y:0,scale:1,rotateX:0},exit:{opacity:0,y:-30,scale:.8,rotateX:15},transition:{delay:Q*.15,type:"spring",stiffness:300,damping:25,duration:.6},whileHover:{scale:1.03,y:-8,rotateY:2,transition:{duration:.3}},className:"relative group cursor-pointer",style:{perspective:"1000px"},children:[e.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-white via-gray-50 to-gray-100 border-2 border-gray-200/60 shadow-2xl transform group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-1 rounded-3xl bg-gradient-to-br from-white/80 to-transparent pointer-events-none"}),e.jsx(u.div,{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",animate:{background:["radial-gradient(circle at 0% 0%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(147, 51, 234, 0.3) 0%, transparent 50%)","radial-gradient(circle at 0% 100%, rgba(236, 72, 153, 0.3) 0%, transparent 50%)","radial-gradient(circle at 100% 0%, rgba(59, 130, 246, 0.3) 0%, transparent 50%)"]},transition:{duration:4,repeat:1/0,ease:"linear"}}),de&&e.jsx(u.div,{className:"absolute inset-0 rounded-3xl bg-red-500/10 border border-red-400/30",animate:{opacity:[.3,.6,.3],scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsxs("div",{className:"relative p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(u.div,{className:"relative",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-purple-600 rounded-2xl blur-md opacity-70"}),e.jsx("div",{className:"relative p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:e.jsx(re,{className:"w-6 h-6 text-white drop-shadow-lg"})}),e.jsx(u.div,{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:I.title}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:I.period})]})]}),e.jsxs("div",{className:"space-y-6 flex-grow",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Dostavljeno"}),e.jsx(u.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},children:e.jsx(ke,{className:`w-5 h-5 ${D(I.delivery.trend)} drop-shadow-sm`})})]}),e.jsxs("div",{className:"flex items-baseline justify-between mb-4",children:[e.jsx(u.span,{className:"text-4xl font-black text-gray-900",animate:{textShadow:["2px 2px 4px rgba(0,0,0,0.1)","3px 3px 6px rgba(59,130,246,0.3)","2px 2px 4px rgba(0,0,0,0.1)"]},transition:{duration:3,repeat:1/0},children:I.delivery.value}),e.jsx("span",{className:"text-lg font-bold text-gray-600",children:"stopova"}),I.delivery.diff!==void 0&&I.delivery.diff!==0&&e.jsxs(u.span,{className:`px-2 py-1 rounded-full text-sm font-bold ${I.delivery.diff>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:[I.delivery.diff>0?"+":"",I.delivery.diff]})]}),I.delivery.target>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[e.jsxs("span",{className:"text-gray-800",children:["Cilj: ",I.delivery.target]}),e.jsxs(u.span,{className:`font-black ${ie>=100?"text-green-700":ie>=98?"text-blue-700":"text-red-700"}`,animate:ie>=100?{scale:[1,1.15,1],textShadow:["1px 1px 2px rgba(0,0,0,0.2)","2px 2px 4px rgba(34,197,94,0.4)","1px 1px 2px rgba(0,0,0,0.2)"]}:ie>=98?{scale:[1,1.08,1],textShadow:["1px 1px 2px rgba(0,0,0,0.2)","2px 2px 4px rgba(59,130,246,0.4)","1px 1px 2px rgba(0,0,0,0.2)"]}:{scale:[1,1.1,1],textShadow:["1px 1px 2px rgba(0,0,0,0.2)","2px 2px 4px rgba(220,38,38,0.4)","1px 1px 2px rgba(0,0,0,0.2)"]},transition:{duration:1.5,repeat:1/0},children:[Math.round(ie),"%"]})]}),e.jsxs("div",{className:"relative h-3 bg-gray-200 rounded-full overflow-hidden border border-gray-300",children:[e.jsx(u.div,{className:`h-full rounded-full relative ${ie>=100?"bg-gradient-to-r from-green-400 via-green-500 to-emerald-600":ie>=98?"bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-600":"bg-gradient-to-r from-red-400 via-red-500 to-red-600"}`,initial:{width:0},animate:{width:`${Math.min(ie,100)}%`},transition:{duration:1.5,delay:.5,ease:"easeOut"},children:e.jsx(u.div,{className:"absolute inset-0 bg-white/30",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})}),ie>=100&&e.jsx(u.div,{className:"absolute right-2 top-1/2 transform -translate-y-1/2",animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:e.jsx("span",{className:"text-xs font-bold text-white drop-shadow",children:"üéØ"})})]})]})]}),e.jsxs("div",{className:`relative p-4 rounded-2xl transition-all duration-500 border-2 ${de?"bg-red-50 border-red-200 shadow-lg shadow-red-100":"bg-green-50 border-green-200 shadow-lg shadow-green-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Reklamacije"}),de?e.jsx(u.div,{animate:{rotate:[0,-10,10,-10,0],scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:e.jsx(nt,{className:"w-5 h-5 text-red-600 drop-shadow-sm"})}):e.jsx(u.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(Nt,{className:"w-5 h-5 text-green-600 drop-shadow-sm"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u.span,{className:`text-3xl font-black ${de?"text-red-700":"text-green-700"}`,animate:de?{scale:[1,1.1,1],textShadow:["1px 1px 2px rgba(0,0,0,0.1)","2px 2px 4px rgba(220, 38, 38, 0.3)","1px 1px 2px rgba(0,0,0,0.1)"]}:{textShadow:["1px 1px 2px rgba(0,0,0,0.1)","2px 2px 4px rgba(34, 197, 94, 0.3)","1px 1px 2px rgba(0,0,0,0.1)"]},transition:{duration:2,repeat:1/0},children:I.complaints.value}),de?e.jsxs(u.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{delay:.7,type:"spring",stiffness:200},className:"px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg flex items-center gap-1",children:[e.jsx("span",{children:"‚âà"}),e.jsxs("span",{children:[(I.complaints.value*80).toLocaleString(),"‚Ç¨"]})]}):e.jsx(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.7,type:"spring",stiffness:200},className:"px-3 py-1 bg-green-600 text-white text-xs font-bold rounded-full shadow-lg",children:"SAVR≈†ENO!"})]})]})]}),e.jsx(u.div,{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full shadow-lg"})})]})]},I.title)})})})]})})},gs=Object.freeze(Object.defineProperty({__proto__:null,default:Za},Symbol.toStringTag,{value:"Module"}));export{Ua as C,cs as D,ls as H,gs as S,Et as U,ns as a,Or as b,Aa as c,ds as d,is as i,Ee as p,he as q,Wt as u,Ae as v};
